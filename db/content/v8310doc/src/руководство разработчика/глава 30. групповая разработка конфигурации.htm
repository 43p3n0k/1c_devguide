<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>&#1043;&#1083;&#1072;&#1074;&#1072; 30. &#1043;&#1088;&#1091;&#1087;&#1087;&#1086;&#1074;&#1072;&#1103; &#1088;&#1072;&#1079;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1072; &#1082;&#1086;&#1085;&#1092;&#1080;&#1075;&#1091;&#1088;&#1072;&#1094;&#1080;&#1080;</title>
		<LINK REL="stylesheet" href="/db/content/v8310doc/src/руководство разработчика/style.css?_=1496848987">
		<script charset="windows-1251" src="/db/content/v8310doc/src/руководство разработчика/script.js?_=1496848987" TYPE="text/javascript"></script>		<!--[if !IE]>--><script charset="windows-1251" src="/db/content/v8310doc/src/руководство разработчика/zeroclipboard.js?_=1496848987" TYPE="text/javascript"></script><!--<![endif]-->
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="/db/content/v8310doc/src/руководство разработчика/глава 30. групповая разработка конфигурации.htm" rel="canonical">
<link href="/static/its.content.css?_=1490872753" type="text/css" rel="stylesheet">
<script charset="windows-1251" type="text/javascript" src="/static/its.content.js?_=1489758009"></script>
<!--[if lt IE 9]><script charset="windows-1251" type="text/javascript" src="/static/html5shiv.js?_=1484636606"></script><![endif]-->

</head>
	<body class="v8310doc">
<a name="_ref343785480"></a><a name="_ref237783590"></a><a id="TI000001091" class="bookmark"><h1>Глава 30.  Групповая разработка конфигурации</h1></a>

<a id="TI000001475" class="bookmark" name="issogl1_30.1_общая_информация"><h2>30.1. Общая информация</h2></a>

<p class="MsoNormalCxSpFirst">Разработка конфигурации авторским коллективом может
производиться последовательно, когда разработчики договариваются о модификации
объектов конфигурации, производят изменения, а затем объединяют результат.
Такой режим связан с риском случайного изменения других объектов, с
необходимостью понимания всех процессов изменений и взаимосвязи объектов.
Объединение конфигураций при этом должен производить специалист, хорошо представляющий
направление разработки.</p>

<p class="MsoNormalCxSpMiddle">Снизить вероятность ошибок, повысить производительность
и упростить процесс разработки призван механизм групповой разработки
конфигурации, рассматриваемый в данной главе.</p>

<p class="MsoNormalCxSpMiddle">Под групповой разработкой понимается одновременная
работа группы пользователей (разработчиков) по изменению конфигурации, при
которой модификация объекта конфигурации доступна только тому разработчику, который
предварительно захватил данный объект.</p>

<p class="MsoNormalCxSpMiddle">Для групповой разработки создается хранилище, в
которое средствами конфигуратора помещается конфигурация. Организуется доступ
разработчиков к хранилищу конфигурации: либо в рамках локальной сети, либо
удаленный доступ с использованием веб-сервера. Для хранилища назначается
администратор, который осуществляет формирование списка пользователей, имеющих
доступ к хранилищу. Административные права могут быть назначены и другим пользователям.</p>

<p class="MsoNormalCxSpMiddle">При групповой разработке конфигурация рассматривается
как набор объектов, закрытых для изменения. Чтобы произвести изменения в
объекте, его нужно захватить. Одновременно объект может быть захвачен только одним
пользователем. Пользователь может захватить произвольное число не захваченных
другими пользователями объектов.</p>

<p class="MsoNormalCxSpMiddle">Приемы работы с захваченными объектами конфигурации
ничем не отличаются от приемов работы в обычном режиме. Допускается
редактирование свойств самого объекта, удаление и создание подчиненных
объектов.</p>

<p class="MsoNormalCxSpMiddle">Для добавления объектов требуется, чтобы был
захвачен объект, которому он подчинен. Например, для добавления константы
необходимо захватить корневой объект конфигурации. Для добавления реквизита или
формы объекта – сам объект.</p>

<p class="MsoNormalCxSpMiddle">Для удаления незахваченного объекта требуется захватить
сам объект, а также объект, которому он подчинен, и все подчиненные ему
объекты.</p>

<p class="MsoNormalCxSpMiddle">После работы с захваченными объектами результат их
модификации можно поместить в хранилище. С другой стороны, если какие-либо
незахваченные объекты были изменены, то можно получить обновление данных объектов
сразу после помещения этих объектов в хранилище конфигурации автором изменений.</p>

<p class="MsoNormalCxSpMiddle">Результаты работы с хранилищем можно просмотреть в
истории хранилища. Версии конфигурации, сохраненные в хранилище, можно открыть
для просмотра, сравнить с текущей конфигурацией, конфигурацией базы данных, а
также сравнить различные версии хранилища.</p>

<p class="MsoNormalCxSpMiddle">Объекты конфигурации тесно взаимосвязаны друг с другом.
Поэтому хранилище конфигурации поддерживает целостность метаданных при захвате
или помещении объектов в хранилище.</p>

<p class="MsoNormalCxSpLast">Таким образом, механизм групповой разработки обеспечивает
синхронизацию работы группы разработчиков по модификации конфигурации.</p>

<a id="TI000001092" class="bookmark" name="issogl1_30.2_администрирование_хранилища"><h2>30.2. Администрирование хранилища</h2></a>

<a name="_ref473026705"></a><a name="_ref473026704"></a><a id="TI000001093" class="bookmark" name="issogl2_30.2.1_создание_хранилища"><h3>30.2.1. Создание хранилища</h3></a>

<p class="Regularbeforepicture">Хранилище
конфигурации создается для разделения доступа к объектам конфигурации. Для
создания хранилища нужно выбрать пункт <span class="Interface">Конфигурация – Хранилище
конфигурации – Создать хранилище</span>. На экран выводится диалог:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00603.gif?_=1496848987" WIDTH="369" ALT HEIGHT="189"></p>

<p class="MsoCaption">Рис.
596.
Создание хранилища конфигурации</p>

<p class="Regularbeforepicture">В
поле <span class="Interface">Каталог хранилища</span> нужно указать каталог расположения хранилища.
По указанному каталогу не должно быть зарегистрировано другое хранилище
конфигурации. Нажать кнопку <span class="Interface">Далее &gt;</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00604.gif?_=1496848987" WIDTH="369" ALT HEIGHT="189"></p>

<p class="MsoCaption">Рис.
597.
Задание администратора хранилища</p>

<p class="MsoNormal">Указать
имя администратора хранилища и пароль доступа. Администратор хранилища
производит формирование списка пользователей, имеющих право доступа в хранилище
конфигурации.</p>

<p class="Regularbeforepicture">После
нажатия клавиши <span class="Interface">ОК</span> конфигуратор производит анализ данных, формирование
структуры объектов и запись данных в указанный каталог. Этот процесс может
занять некоторое время (в зависимости от размера конфигурации). По окончании
формирования хранилища конфигуратор предлагает пользователю подключиться к
хранилищу.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00605.gif?_=1496848987" WIDTH="357" ALT HEIGHT="118"></p>

<p class="MsoCaption">Рис.
598.
Подключиться к хранилищу?</p>

<p class="MsoNormalCxSpFirst">Если
по указанному адресу зарегистрировано хранилище конфигурации, то конфигуратор
выводит предупреждение о невозможности создания хранилища.</p>

<p class="MsoNormalCxSpLast">Хранилище
конфигурации создается в формате версии 8.3.8 с размером страницы, равным
8 912 байта. Для того чтобы изменить формат базы хранилища или размер страницы –
следует воспользоваться утилитой <span class="Interface">cnvdbfl</span> (подробнее
см. <a href="/db/v8310doc/bookmark/adm/TI000000666" target="_top">здесь</a>). Файл базы данных хранилища конфигурации имеет имя <span class="Interface">1cv8ddb.1CD</span>.
Необходимо помнить, что к хранилищу конфигурации, созданному «1С:Предприятие»
версии 8.3.10 и старше, не сможет подключиться конфигуратор версии 8.3.7 и
младше. В этом случае будет необходимо выполнять конвертацию хранилища
конфигурации.</p>

<a name="_ref392861787"></a><a name="_ref392861786"></a><a id="TI000001094" class="bookmark" name="issogl2_30.2.2_подключение_к_хранилищу"><h3>30.2.2. Подключение к хранилищу</h3></a>

<p class="MsoNormal">Для подключения к хранилищу конфигурации нужно
выбрать пункт <span class="Interface">Конфигурация – Хранилище
конфигурации – Подключиться к хранилищу</span>. Перед подключением
конфигуратор сообщает, что текущая конфигурация будет замещена конфигурацией из
хранилища, и запрашивает подтверждение на подключение.</p>

<p class="Regularbeforepicture">После
утвердительного ответа на экран выводится диалог подключения:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00606.gif?_=1496848987" WIDTH="313" ALT HEIGHT="199"></p>

<p class="MsoCaption">Рис.
599. Подключение к хранилищу конфигурации</p>

<p class="MsoNormalCxSpFirst">Нужно
ввести место расположения хранилища, а также имя пользователя и пароль для
доступа к хранилищу, если они задан. Если под указанным именем никто не
зарегистрирован, выводится предупреждение: <span class="Interface">Ошибка аутентификации!
Проверьте правильность введенного имени пользователя и пароля</span>.</p>

<p class="MsoNormalCxSpMiddle">Для
каждого пользователя к данному хранилищу может быть подключена только одна
конфигурация. Поэтому конфигуратор сначала производит проверку регистрации
подключения по данному пользователю.</p>

<p class="MsoNormalCxSpMiddle">Если
имя пользователя зарегистрировано и для этого пользователя информационная база
еще не была подключена к хранилищу конфигурации, то производится подключение и
устанавливается связь. Конфигурация из хранилища замещает собой конфигурацию
текущей информационной базы и в хранилище по данному пользователю записывается
информация о конфигурации и ее месте расположения.</p>

<p class="MsoNormalCxSpMiddle">Если
в данный момент времени есть открытая конфигурация, связанная с указанным пользователем,
то конфигуратор выводит предупреждение об аутентификации.</p>

<p class="MsoNormalCxSpMiddle">Если
для данного пользователя в данный момент времени нет открытой информационной
базы, но данные о месте расположения не совпадают с данными о связи
(конфигурация расположена в другом каталоге, или подключение производится с
другого рабочего места), то конфигуратор выводит сообщение: <span class="Interface">Для данного
пользователя уже имеется конфигурация, связанная с данным хранилищем
конфигурации. Продолжить?</span> Если нажать кнопку <span class="Interface">Да</span>, то
происходит установка нового подключения, текущая конфигурация заменяется конфигурацией
из хранилища и устанавливается новая связь текущей конфигурации с хранилищем
для данного пользователя. В этом случае прежняя связь будет утеряна (информационная
база, которая была ранее подключена к хранилищу, уже не сможет соединиться с
этим пользователем без повторного подключения).</p>

<p class="MsoNormalCxSpLast">После
завершения процедуры подключения, будет открыто окно конфигурации.</p>

<p class="Regularbeforetable">Совместимы
не все комбинации режима совместимости хранилища конфигурации и версий
«1С:Предприятия», подключающихся к хранилищу:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpFirst"><b> </b></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle"><b>Версия
  8.3.2 и ниже</b></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle"><b>Версия
  8.3.3 – 8.3.5</b></p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Версия 8.3.5 и старше</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Да</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Да</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Версия 8.3.4</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Да</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Ограниченно</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Версия 8.3.3</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Да</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Ограниченно</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Версия 8.3.2 и младше</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Да</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle"> </p>
  </td>
  
 </tr>
</table>

<p class="MsoNormalCxSpMiddle">В
колонках перечислены режимы совместимости, в строках указаны номера версий
конфигуратора, с помощью которого выполняется попытка подключения к хранилищу
конфигурации. Значение <span class="Interface">Да</span> в ячейке
означает, что определенная версия конфигуратора может подключиться к хранилищу
с указанным режимом совместимости. Значение <span class="Interface">Ограниченно</span>
означает, что с хранилищем без ограничений могут работать только конфигураторы
версий 8.3.3 и 8.3.4. Если к хранилищу, которое находится в режиме
совместимости <span class="Interface">Версия 8.3.3 – 8.3.5</span>,
одновременно подключаются конфигураторы версий 8.3.5 и 8.3.4, то конфигуратор
версии 8.3.4 не может поместить в хранилище измененные объекты.</p>

<p class="MsoNormalCxSpLast">Также
необходимо помнить, что если хранилище конфигурации создавалость с помощью
платформы «1С:Предприятие» версии 8.3.10 и старше, то к нему не сможет
подключиться конфигуратор версии 8.3.7 и младше. Если такое необходимо – следует
выполнить конвертацию файла хранилища конфигурации в формат версии 8.2.14 с
помощью утилиты <span class="Interface">cnvdbfl</span>.</p>

<a name="_ref351645736"></a><a name="_ref351645735"></a><a name="_ref414616609"></a><a id="TI000001570" class="bookmark" name="issogl2_30.2.3_соединение_с_хранилищем"><h3>30.2.3. Соединение с хранилищем</h3></a>

<p class="MsoNormalCxSpFirst">В том случае, если информационная база уже
подключена к хранилищу, то при ее открытии запрашиваются параметры доступа к
хранилищу. Если после первого подключения параметры доступа не изменялись, то
необходимо подтвердить соединение с хранилищем конфигурации. Если изменилось
местоположение хранилища конфигурации (без изменения остальных параметров
доступа), необходимо указать новое местоположение хранилища в диалоге
соединения с хранилищем конфигурации. После соединения будет открыто окно
конфигурации.</p>

<p class="MsoNormalCxSpMiddle">Если при соединении с хранилищем
конфигурации неправильно указано имя пользователя или пароль или указано имя
пользователя, подключенного к данному хранилищу в данный момент времени, то
выдается сообщение: <span class="Interface">Ошибка аутентификации! Проверьте правильность введенного имени
пользователя и пароля</span>.</p>

<p class="MsoNormalCxSpMiddle">Если при соединении с хранилищем указать
другого пользователя, то подключение закончится ошибкой <span class="Interface">Пользователь существующей связи отличается от текущего</span>.
В этом случае (при смене пользователя, от имени которого выполняется работа с
хранилищем) следует отключиться от хранилища конфигурации и выполнить повторное
подключение с указанием нового пользователя.</p>

<p class="MsoNormalCxSpMiddle">Если производится попытка соединения с
хранилищем конфигурации для открытой в данный момент конфигурации, то конфигуратор
выдает предупреждение об ошибке с указанием имени пользователя.</p>

<p class="MsoNormalCxSpMiddle">Если сменилось местоположение информационной
базы, подключенной к хранилищу, то будет выведено предупреждение <span class="Interface">Месторасположение информационной базы изменилось. Продолжить?</span>
При утвердительном ответе в хранилище запоминается новое месторасположение
информационной базы и выполняется соединение. При отрицательном ответе
соединение к хранилищу не выполняется. В этом случае для повторной попытке
выполнить соединение с хранилищем конфигурации следует использовать команду <span class="Interface">Конфигурация – Хранилище конфигурации – Открыть
хранилище</span>.</p>

<p class="MsoNormalCxSpLast">Если к одному хранилищу конфигурации
подключено две информационные базы от имени одного пользователя хранилища, то
работа с хранилищем конфигурации будет возможна только для того разработчика,
который выполнил подключение последним. Для первого разработчика будет
выводится ошибка <span class="Interface">Информационная база не связана с хранилищем конфигурации</span>.
В этом случае первому разработчику необходимо выполнить подключение к хранилищу
от имени другого пользователя хранилища.</p>

<a name="_ref414616564"></a><a id="TI000001571" class="bookmark" name="issogl2_30.2.4_окно_конфигурации"><h3>30.2.4. Окно конфигурации</h3></a>

<p class="Regularbeforepicture">Окно конфигурации, подключенной к хранилищу,
несколько отличается от окна конфигурации, не подключенной к хранилищу:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00607.gif?_=1496848987" WIDTH="311" ALT HEIGHT="511"></p>

<p class="MsoCaption">Рис. 600. Конфигурация,
подключенная к хранилищу</p>

<p class="Regularbeforepicture">Состояние объектов конфигурации отображается
специальными значками, размещенными вдоль правой границы окна <span class="Interface">Конфигурация</span>. Значки объекта и подчиненного объекта отличаются
размером (для подчиненного объектов они меньше) и видом (у подчиненных объектов
присутствует изображение ветви дерева).</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00608.gif?_=1496848987" WIDTH="499" ALT HEIGHT="319"></p>

<p class="MsoCaption"><a name="_ref214425325">Рис. </a>601. Значки объектов</p>

<p class="MsoNormalCxSpFirst">Возможные состояния объектов изображены на <a href="#_ref214425325">рис.601</a>.</p>

<p class="MsoNormalCxSpMiddle">Если объект захвачен другим пользователем
(см. <a href="#_ref214425325">рис.601</a>), то данный объект может быть модифицирован только
тем пользователем, который захватил данный объект. Подсказка к объекту метаданных,
появляющаяся над пиктограммой текущего состояния объекта в хранилище конфигурации,
содержит имя пользователя, захватившего объект, дату захвата объекта
пользователем, имя компьютера, с которого было осуществлено соединение пользователя
с хранилищем конфигурации, и месторасположение информационной базы.</p>

<p class="MsoNormalCxSpLast">Созданные пользователем и еще не помещенные
в хранилище объекты, а также объекты, удаленные из хранилища, но еще присутствующие
в локальной конфигурации, обозначаются значком в виде отметки красного цвета.</p>

<a id="TI000001095" class="bookmark" name="issogl2_30.2.5_ведение_списка_пользователей_хранилища"><h3>30.2.5. Ведение списка пользователей хранилища</h3></a>

<p class="Regularbeforepicture">Для
создания нового пользователя хранилища нужно выбрать пункт меню <span class="Interface">Конфигурация – Хранилище
конфигураций – Администрирование хранилища</span> и на закладке <span class="Interface">Пользователи</span> выбрать
пункт <span class="Interface">Действия – Добавить</span>. На экран
выводится окно редактирования информации о пользователе. На закладке <span class="Interface">Основные</span> вводится
наименование пользователя и пароль доступа к хранилищу.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00609.gif?_=1496848987" WIDTH="365" ALT HEIGHT="162"></p>

<p class="MsoCaption">Рис.
602. Параметры пользователя хранилища</p>

<p class="Regularbeforepicture">На
закладке <span class="Interface">Права</span>
указывается, какими правами обладает данный пользователь.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00610.gif?_=1496848987" WIDTH="365" ALT HEIGHT="162"></p>

<p class="MsoCaption">Рис.
603. Права пользователя хранилища</p>

<p class="MsoNormalCxSpFirst"><span class="Interface">Административные функции</span> – пользователь имеет права
создания, удаления и отключения пользователей, отмены захвата, изменять режим
совместимости хранилища и выполнять процедуру оптимизации.</p>

<p class="MsoNormalCxSpMiddle"><span class="Interface">Изменение состава версий</span> – пользователь имеет права
выполнения отката и сокращения истории версий (подробнее см. <a href="#_ref237747330">здесь</a>).</p>

<p class="MsoNormalCxSpLast"><span class="Interface">Захват объектов</span> – пользователям с данным правом
доступны захват и внесение изменений в конфигурацию хранилища. Если право не
установлено, то объекты хранилища можно только просмотреть.</p>

<a name="_ref351716527"></a><a name="_ref351638464"></a><a name="_ref351638463"></a><a name="_ref378952702"></a><a id="TI000001340" class="bookmark" name="issogl2_30.2.6_кеш_версий_хранилища"><h3>30.2.6. Кеш версий хранилища</h3></a>

<p class="MsoNormal">Для
ускорения работы с хранилищем конфигурации используются два кеша версий. Один
кеш – локальный, он располагается на стороне компьютера, на котором
работает конфигуратор, подключенный к хранилищу. Другой кеш – глобальный,
он расположен на том компьютере, где расположен каталог с хранилищем. Кеш
предназначен для ускорения некоторых операций по работе с хранилищем. В кеш
попадают версии в результате выполнения следующих операций:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
Подключение к хранилищу;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
Открытие версии конфигурации в хранилище;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
Сравнение версий конфигурации в хранилище;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
Сохранение версии конфигурации в хранилище;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
При выборочном сравнении следующих объектов
конфигурации:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
Формы (при работе через сервер хранилища);</p>

<p class="MsoListBullet2CxSpMiddle">&#9679; 
Права доступа (при
работе с хранилищем конфигурации, расположенной на сетевом ресурсе или через
сервер хранилища);</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
Командные интерфейсы (при работе с хранилищем
конфигурации, расположенной на сетевом ресурсе или через сервер хранилища).</p>

<p class="MsoNormalCxSpFirst">При
необходимости выполнить какую либо из вышеперечисленных операций, система
последовательно анализирует локальный и глобальный кеши версий. Если поиск не
привел к положительному результату – выполняется получение нужной версии
непосредственно из хранилища.</p>

<p class="MsoNormalCxSpLast">Управление
местом расположения и объемом кешей выполняется с помощью диалога администрирования
хранилища или конфигурационных файлов.</p>

<a name="_ref392861802"></a><a name="_ref392861801"></a><a id="TI000001096" class="bookmark" name="issogl2_30.2.7_администрирование_хранилища_конфигурации"><h3>30.2.7. Администрирование хранилища конфигурации</h3></a>

<p class="MsoNormal">Для
администрирования хранилища конфигурации предназначено специальное окно,
вызываемое пунктом меню <span class="Interface">Главное меню – Конфигурация – Хранилище конфигураций –
Администрирование хранилища</span>.</p>

<p class="Regularbeforepicture">На
экран выводится окно (см. <a href="#_ref213233535">рис.604</a>).</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00611.gif?_=1496848987" WIDTH="550" ALT HEIGHT="343"></p>

<p class="MsoCaption"><a name="_ref213233535">Рис. </a>604.
Администрирование хранилища</p>

<p class="MsoNormal">На
закладке <span class="Interface">Пользователи</span> расположены элементы управления списком
пользователей – разработчиков конфигурации (далее в этой главе – пользователи).
Всем пользователям доступен режим изменения собственных параметров (имя,
пароль), кроме смены прав. Жирным шрифтом выделены те пользователи, который в
данный момент подключены к хранилищу. На <a href="#_ref213233535">рис.604</a> это пользователь <span class="Interface">Администратор</span>.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Добавление, удаление и смена прав доступны
только пользователям, имеющим административные права.</p>

<p class="Regularbeforepicture">На
закладке <span class="Interface">Подключения</span> выводится список пользователей, подключенных
к хранилищу.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00612.gif?_=1496848987" WIDTH="550" ALT HEIGHT="343"></p>

<p class="MsoCaption">Рис.
605.
Подключенные пользователи</p>

<p class="MsoNormal">С
помощью кнопки <span class="Interface">Отключить</span> можно отключить от хранилища любого из указанных
пользователей, не работающих в данный момент с хранилищем.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Кнопка <span class="Interface">Отключить</span> доступна
пользователям, имеющим административные права.</p>

<p class="Regularbeforepicture">На
закладке <span class="Interface">Отмена захвата</span> производится отмена захвата объектов для
указанного пользователя.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00613.gif?_=1496848987" WIDTH="550" ALT HEIGHT="368"></p>

<p class="MsoCaption">Рис.
606.
Отмена захваченных объектов</p>

<p class="MsoNormal">При
этом пользователь, захвативший объекты, лишается возможности поместить
изменения этих объектов в хранилище.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Данная кнопка доступна пользователям,
имеющим административные права.</p>

<p class="Regularbeforepicture">На
закладке <span class="Interface">Прочие</span> расположены параметры, управляющие работой самого
хранилища.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00614.gif?_=1496848987" WIDTH="550" ALT HEIGHT="377"></p>

<p class="MsoCaption">Рис.
607.
Параметры хранилища</p>

<p class="MsoNormalCxSpFirst">Группа
параметров <span class="Interface">Глобальный кеш версий конфигурации</span> служит для задания
размера глобального кеша версий конфигурации. Алгоритм очистки кеша совпадает с
алгоритмом очистки локального кеша версий. Кнопка <span class="Interface">Очистить кеш</span>
приводит к полной очистке кеша.</p>

<p class="MsoNormalCxSpMiddle">Для
управления параметрами глобального кеша версий служит файл <span class="Interface">cfgrepo.conf</span>,
описание которого см. <a href="/db/v8310doc/bookmark/adm/TI000000444" target="_top">здесь</a>.</p>

<p class="MsoNormalCxSpLast">Группа
параметров <span class="Interface">Режим совместимости хранилища</span> управляет форматом хранилища
и способом взаимодействия с сервером хранилища.</p>

<p class="Regularbeforetable">В
следующей таблице отражено, какие версии системы могут работать с хранилищем,
для которого установлен тот или иной режим совместимости:</p>

<table class="MsoNormalTable" border="0" cellspacing="0" cellpadding="0">
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpFirst"><b>Режим
  совместимости</b></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle"><b>Реализован
  в версии</b></p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle"><b>Может
  работать</b></p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Версии 8.3.2 и младше</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">8.3.3</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Любая версия</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Версии 8.3.3 – 8.3.5</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">8.3.6</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">8.3.3 и старше</p>
  </td>
  
 </tr>
 <tr>
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">Не использовать</p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle"> </p>
  </td>
  
  <td valign="top">
  <p class="MsoNormalCxSpMiddle">8.3.6 и старше</p>
  </td>
  
 </tr>
</table>

<p class="MsoNormalCxSpLast">Если
свойство <span class="Interface">Режим совместимости</span> установлено в значение <span class="Interface">Версии 8.3.2 и младше</span>,
то с хранилищем могут работать любые версии «1С:Предприятия». Если установить
это свойство в значение Версии 8.3.3 –
8.3.5 и выше (включая <span class="Interface">Не
использовать</span>),
то после нажатия кнопки <span class="Interface">Установить</span>, хранилище будет преобразовано в
оптимизированный формат. После выполнения оптимизации работа с хранилищем будет
выполняться быстрее (в том числе и при использовании сервера хранилища).
Операцию изменения режима совместимости может выполнять только пользователь с
административными правами.</p>

<p class="Note"><span class="Note">Внимание!</span> Преобразование хранилища может занимать
существенное время.</p>

<p class="MsoNormalCxSpFirst">При
необходимости, можно обратно преобразовать хранилище конфигурации в формат,
пригодный для использования любыми версиями «1С:Предприятия». Для этого
необходимо установить свойство <span class="Interface">Режим совместимости</span> в значение <span class="Interface">Версии 8.3.2 и младше</span>
и нажать кнопку <span class="Interface">Установить</span>. Кроме того, может потребоваться выполнение
конвертации самого файла хранилища. Такая операция может потребоваться в том
случае, если хранилище конфигурации было создано в «1С:Предприятии» версии
8.3.10 и старше. Для конвертации необходимо использовать утилиту <span class="Interface">cnvdbfl</span>.</p>

<p class="MsoNormalCxSpMiddle">Для
нового хранилища конфигурации свойство <span class="Interface">Режим совместимости</span>
устанавливается в значение <span class="Interface">Не использовать</span>, а файл базы даных хранилища создается в
формает версии 8.3.8.</p>

<p class="MsoNormalCxSpLast">Группа
<span class="Interface">Оптимизация данных хранилища</span> позволяет выполнить
оптимизацию хранилища, которое не находится в режиме совместимости с версией
8.3.2. В результате оптимизации будет повышена скорость работы с хранилищем. Оптимизацию
требуется проводить только после того, как система предложит это сделать.</p>

<p class="Regularbeforepicture">Для
пользователя с административными правами можно включить рекомендацию выполнить
оптимизацию после проведения операции хранилищем (помещение объектов, откат
версий, слияние версий). Для этого предназначен флажок <span class="Interface">Предлагать оптимизацию
после выполнения операций с хранилищем</span> на закладке <span class="Interface">Прочие</span> диалога
администрирования хранилища. В этом случае, после завершения операции с
хранилищем, пользователю может быть показан диалог:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00615.gif?_=1496848987" WIDTH="596" ALT HEIGHT="127"></p>

<p class="MsoCaption">Рис. 608. Предложение
оптимизировать хранилище</p>

<p class="Regularbeforepicture">Если пользователь (администратор хранилища)
отказывается от проведения оптимизации непосредственно при появлении рекомендации,
то оптимизацию можно выполнить позднее. В этом случае следует зайти в диалог
администрирования хранилища и на закладке <span class="Interface">Прочие</span> нажать кнопку <span class="Interface">Оптимизировать</span>. Кнопку стоит нажимать в том случае, если
справа от нее отображается рекомендация выполнить оптимизацию. Оптимизация
хранилища может занимать существенное время.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00616.gif?_=1496848987" WIDTH="550" ALT HEIGHT="343"></p>

<p class="MsoCaption">Рис. 609. Рекомендуется
выполнить оптимизацию</p>

<p class="MsoNormalCxSpFirst">Во время выполнения оптимизации работать с
хранилищем не рекомендуется.</p>

<p class="MsoNormalCxSpLast">Оптимизацию можно также выполнить с помощью
параметра командной строки запуска конфигуратора <span class="Interface">/ConfigurationRepositoryOptimizeData</span>.</p>

<p class="Regularbeforepicture">Для настройки параметров локального кеша
хранилища выполняется с помощью специального диалога, который доступен с помощью
команды <span class="Interface">Главное меню –
Конфигурация – Хранилище конфигурации – Настройка использования
локальных данных хранилища</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00617.gif?_=1496848987" WIDTH="527" ALT HEIGHT="152"></p>

<p class="MsoCaption">Рис. 610. Настройка использования
локальных данных хранилища</p>

<p class="MsoNormal">В данном диалоге указываются характеристики
локального кеша версий. Локальный кеш формируется в том случае, когда хранилище
конфигурации расположено на сетевом диске или работа с хранилищем выполняется с
помощью сервера хранилища. Свойство <span class="Interface">Каталог</span> служит для указания каталога в локальной
файловой системе, где будет располагаться кеш. По умолчанию, кеш располагается
в каталоге:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
Для ОС Windows: <span class="Interface">%APPDATA%\1C\1Cv8\&lt;Уникальный идентификатор информационной базы&gt;\cfgrepo\cache</span>.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
Для ОС Linux: <span class="Interface">~/.1cv8/1C/1cv8/&lt;Уникальный идентификатор информационной базы&gt;/cfgrepo/cache</span>.</p>

<p class="MsoNormalCxSpFirst">Параметр <span class="Interface">Максимальный размер</span> определяет размер локального кеша в
мегабайтах. Значение по умолчанию – 500 Мбайт. Если в процессе работы
размер локального кеша превысит установленный размер, будет автоматически
удалены самые старые версии в количестве 50% от размера кеша. Кнопка <span class="Interface">Очистить кеш</span>
приводит к полной очистке локального кеша.</p>

<p class="MsoNormalCxSpLast">Для управления
параметрами локального кеша версий служит файл <span class="Interface">cfgrepo.conf</span>,
описание которого см. <a href="/db/v8310doc/bookmark/adm/TI000000444" target="_top">здесь</a>.</p>

<a name="_ref351637104"></a><a id="TI000001097" class="bookmark" name="issogl2_30.2.8_резервное_копирование_хранилища"><h3>30.2.8. Резервное копирование хранилища</h3></a>

<p class="MsoNormal">В зависимости от режима совместимости
хранилища, резервное копирование выполняется по-разному.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Во время выполнения
операции резервного копирования хранилища конфигурации, к нему не должно быть
ни одного подключения.</p>

<p class="MsoNormal">Для выполнения резервного копирования
необходимо скопировать следующие файлы:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
Свойство <span class="Interface">Режим совместимости</span> равно <span class="Interface">Версии 8.3.2 и младше</span> – необходимос скопировать
только файл 1Cv8ddb.1CD.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
Свойство <span class="Interface">Режим совместимости</span> не равно <span class="Interface">Версии 8.3.2 и младше</span> – необходимос скопировать
файл 1Cv8ddb.1CD <span class="Bold">и полностью каталог</span> <span class="Interface">data</span>, расположенный в том же каталоге, что и файл <span class="Interface">1Cv8ddb.1CD</span>.</p>

<a id="TI000001098" class="bookmark" name="issogl1_30.3_работа_с_хранилищем_конфигурации"><h2>30.3. Работа с хранилищем конфигурации</h2></a>

<p class="Regularbeforepicture">Захват, получение, помещение объектов в
хранилище и другие действия с объектами хранилища удобнее выполнять в окне <span class="Interface">Хранилище конфигурации</span>. Для его открытия нужно выбрать
пункт <span class="Interface">Конфигурация – Хранилище
конфигурации – Хранилище</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00618.gif?_=1496848987" WIDTH="632" ALT HEIGHT="344"></p>

<p class="MsoCaption">Рис. 611. Хранилище
конфигурации</p>

<p class="MsoNormalCxSpFirst">Окно <span class="Interface">Хранилище
конфигурации</span> состоит из панели инструментов и табличного поля, в первой
колонке которого показывается иерархическая структура объектов хранилища или
список объектов в зависимости от режима просмотра (меню <span class="Interface">Вид</span>).</p>

<p class="MsoNormalCxSpMiddle">Если режим показа удаленных объектов
установлен (подменю <span class="Interface">Вид</span>), то в
списке удаленные объекты показываются более светлым шрифтом.</p>

<p class="MsoNormalCxSpLast">Во второй колонке пиктограммами показывается
состояние захваченных объектов. Захваченные текущим пользователем объекты
показываются пиктограммой, содержащей красную галочку. В колонке <span class="Interface">Пользователь</span> указывается пользователь, захвативший
объект. В колонке <span class="Interface">Дата</span>
показывается дата захвата (если объект на данный момент захвачен) или дата
последнего обновления объекта. В колонке <span class="Interface">Компьютер</span>
указывается имя компьютера пользователя, а в колонке <span class="Interface">Информационная база</span> – имя локального каталога
информационной базы на компьютере пользователя.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> В окне хранилища не
показываются созданные пользователем новые объекты (еще не помещенные в
хранилище).</p>

<a name="_ref370287658"></a><a id="TI000001099" class="bookmark" name="issogl2_30.3.1_фильтр_хранилища"><h3>30.3.1. Фильтр хранилища</h3></a>

<p class="Regularbeforepicture">Для удобства работы с конфигурацией можно
настроить показ объектов в графе <span class="Interface">Объект</span> окна <span class="Interface">Хранилище конфигурации</span>. Фильтр вызывается пунктом меню <span class="Interface">Действия – Отбор</span>. На экран выводится окно:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00619.gif?_=1496848987" WIDTH="365" ALT HEIGHT="154"></p>

<p class="MsoCaption">Рис. 612. Отбор объектов
хранилища</p>

<p class="MsoNormal">Смысл элементов управления понятен из их
названия.</p>

<p class="Regularbeforepicture">Также имеется возможность быстро отобрать
только те объекты, которые захвачены в хранилище текущим пользователем.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00620.gif?_=1496848987" WIDTH="314" ALT HEIGHT="234"></p>

<p class="MsoCaption">Рис. 613. Отбор захваченных
объектов</p>

<p class="MsoNormal">Для этого необходимо воспользоваться
командой <span class="Interface">Действия – Захваченные
объекты</span> или нажать специальную кнопку на командной панели окна <span class="Interface">Конфигурация</span>. Кнопка отображается только в том случае,
если конфигурация подключена к хранилищу конфигурации. Повторное выполнение
команды отключает отбор. Отбор работает совместно с отбором по подсистемам (см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 5. объекты конфигурации.htm?_=1496848987#_ref370286851">здесь</a>) и поиском по дереву конфигурации (см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 2. работа с конфигурацией.htm?_=1496848987#_ref370228139">здесь</a>).</p>

<a name="_ref364081161"></a><a name="_ref364081160"></a><a name="_ref364081099"></a><a id="TI000001100" class="bookmark" name="issogl2_30.3.2_захват_объектов_хранилища"><h3>30.3.2. Захват объектов хранилища</h3></a>

<p class="MsoNormal">Захват объекта предназначен для монопольного
владения объектом хранилища с целью его редактирования. Захваченный объект для
других пользователей становится недоступным для изменений (возможен только
просмотр и получение измененного объекта для использования).</p>

<p class="Regularbeforepicture">Для захвата в окне <span class="Interface">Хранилище конфигурации</span> следует указать нужный объект
(допускается множественный выбор) и выполнить команду <span class="Interface">Действия – Захватить в хранилище…</span></p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00621.gif?_=1496848987" WIDTH="454" ALT HEIGHT="346"></p>

<p class="MsoCaption">Рис. 614. Захват объектов в
хранилище</p>

<p class="MsoNormalCxSpFirst">Если объект связан с другими объектами, то в
список будут также включены эти объекты. В этом случае выбранный объект показывается
жирным шрифтом. Захват выбранного объекта возможен только в случае получения
этих объектов из хранилища.</p>

<p class="MsoNormalCxSpMiddle">При этом в список включаются также те
объекты, которые не связаны непосредственно с выбранным объектом, а имеют косвенную
связь.</p>

<p class="MsoNormalCxSpMiddle">Для получения этих объектов необходимо
установить флажок в первой колонке списка. Если также требуется захватить
объекты, то для них нужно установить флажок в колонке <span class="Interface">Захватить</span>. Если не все требуемые для захвата объекты
отмечены для получения, конфигуратор выдает сообщение <span class="Interface">Для выполнения операции требуется получение объектов</span> и
перечисляет требуемые объекты. Захват в данном случае не производится.</p>

<p class="MsoNormalCxSpMiddle">Если объекты содержат подчиненные объекты и
требуется захват подчиненных объектов, нужно установить флажок <span class="Interface">Выполнять рекурсивно</span>.</p>

<p class="MsoNormalCxSpLast">Если требуется получить данные уже
захваченных объектов, то установить флажок <span class="Interface">Разрешить получать захваченные</span>.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Если флажок <span class="Interface">Разрешить получать захваченные</span> установлен, изменения,
сделанные в захваченных и повторно получаемых объектах, будут потеряны.</p>

<p class="MsoNormalCxSpFirst">После захвата указанные объекты будут
помечены специальным значком.</p>

<p class="MsoNormalCxSpMiddle">При захвате имеется возможность заранее
внести комментарий, который может быть использован при помещении объекта в хранилище
(см. <a href="#_ref364079955">здесь</a>). Для этого нужно ввести текст в поле <span class="Interface">Комментарий для последующего помещения</span> или выбрать такой
комментарий из списка ранее внесенных комментариев (кнопка <span class="Interface">…</span> в правой части поля). В этом списке содержится 20
последних комментариев, которые вводились при захвате или помещении объектов.</p>

<p class="MsoNormalCxSpMiddle">Для добавления новых объектов в конфигурацию
нужно захватить родительский объект. Например, для создания нового справочника
необходимо захватить корневой объект конфигурации; для создания новой формы или
реквизита справочника – захватить сам объект-справочник.</p>

<p class="MsoNormalCxSpLast">После захвата родительского объекта можно
создавать подчиненные объекты. Затем все новые и захваченный родительский
объекты нужно поместить в хранилище.</p>

<a name="_ref364081170"></a><a name="_ref364081169"></a><a name="_ref364079955"></a><a id="TI000001101" class="bookmark" name="issogl2_30.3.3_помещение_объекта_в_хранилище"><h3>30.3.3. Помещение объекта в хранилище</h3></a>

<p class="Regularbeforepicture">Модифицированный объект можно поместить в
хранилище, чтобы другие пользователи могли обновить этот объект в своих конфигурациях.
Для этого нужно выполнить команду <span class="Interface">Действия – Поместить
в хранилище</span>. На экран выводится диалог:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00622.gif?_=1496848987" WIDTH="454" ALT HEIGHT="378"></p>

<p class="MsoCaption">Рис. 615. Помещение объектов в
хранилище</p>

<p class="MsoNormal">Необходимо установить флажки для тех
объектов, которые будут помещены в хранилище.</p>

<p class="Regularbeforepicture">Для описания произведенных изменений ввести
их в многострочное поле <span class="Interface">Комментарий</span>. Если
комментарий вводился при захвате объекта (объектов) в хранилище (см. <a href="#_ref364081099">здесь</a>) или ранее использовался при помещении объекта в
хранилище, этот комментарий можно выбрать для повторного использования из
списка последних комментариев. Для открытия списка необходимо нажать кнопку &quot;<span class="Interface">…</span>&quot;, расположенную справа от поля <span class="Interface">Комментарий:</span>. В этом списке
содержится 20 последних комментариев, которые вводились при помещении или
захвате объектов.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00623.gif?_=1496848987" WIDTH="524" ALT HEIGHT="177"></p>

<p class="MsoCaption">Рис. 616. Список последних
комментариев</p>

<p class="MsoNormalCxSpFirst">Если объекты содержат подчиненные объекты и
требуется их поместить в хранилище, нужно установить флажок <span class="Interface">Выполнять рекурсивно</span>.</p>

<p class="MsoNormalCxSpMiddle">Если требуется, чтобы указанные объекты
оставались захваченными, установить флажок <span class="Interface">Оставить захваченными</span>.</p>

<p class="MsoNormalCxSpMiddle">Если в хранилище помещаются объекты,
связанные с другими объектами конфигурации, в диалог выводится полный список таких
объектов.</p>

<p class="MsoNormalCxSpMiddle">Для того чтобы поместить в хранилище новые
объекты, в окне <span class="Interface">Конфигурация</span> нужно
выбрать объект и в контекстном меню выбрать пункт <span class="Interface">Поместить в хранилище…</span> На экран выводится окно помещения
объектов в хранилище.</p>

<p class="MsoNormalCxSpLast">Помимо этого объекта в список могут быть
включены и другие объекты, связанные с данным объектом. В этом случае в списке
объектов выбранный объект выделен жирным шрифтом. Поместить объект в хранилище
без помещения (обновления) этих объектов нельзя.</p>

<a id="TI000001102" class="bookmark" name="issogl2_30.3.4_получение_объектов_из_хранилища"><h3>30.3.4. Получение объектов из хранилища</h3></a>

<p class="Regularbeforepicture">Чтобы получить объекты, измененные другими
пользователями, в списке объектов хранилища следует указать нужные объекты и выполнить
команду <span class="Interface">Действия – Получить
из хранилища</span>. На экран выводится диалог:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00624.gif?_=1496848987" WIDTH="454" ALT HEIGHT="250"></p>

<p class="MsoCaption">Рис. 617. Получение объектов из
хранилища</p>

<p class="MsoNormalCxSpFirst">В строках списка объектов нужно установить
флажки для тех объектов, которые требуется получить из хранилища.</p>

<p class="MsoNormalCxSpMiddle">Если объекты содержат подчиненные объекты и
требуется их получение, установить флажок <span class="Interface">Получать
рекурсивно</span>.</p>

<p class="MsoNormalCxSpLast">Если выбранный объект уже захвачен, то
установка флажка <span class="Interface">Получать захваченные</span>
приведет к потере произведенных изменений в данном объекте. В этом случае
производится восстановление данных объекта данными из хранилища.</p>

<a id="TI000001103" class="bookmark" name="issogl2_30.3.5_отмена_захвата_объектов"><h3>30.3.5. Отмена захвата объектов</h3></a>

<p class="Regularbeforepicture">Если не требуется сохранять произведенные в
объекте хранилища изменения или нужно предоставить данный объект для модификации
другому пользователю, данный объект можно отпустить. Для этого следует
выполнить команду <span class="Interface">Действия – Отменить
захват в хранилище…</span></p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00625.gif?_=1496848987" WIDTH="454" ALT HEIGHT="366"></p>

<p class="MsoCaption">Рис. 618. Отменить захват
объектов</p>

<p class="MsoNormalCxSpFirst">Во второй колонке списка пиктограмма
показывает отличие объекта в конфигурации и хранилище. Если пиктограмма
отсутствует, то объекты совпадают.</p>

<p class="MsoNormalCxSpMiddle">Если объекты содержат подчиненные объекты и
требуется отмена их захвата, нужно установить флажок <span class="Interface">Выполнять рекурсивно</span>.</p>

<p class="MsoNormalCxSpLast">После отмены захвата объекты будут получены
из хранилища.</p>

<a id="TI000001104" class="bookmark" name="issogl2_30.3.6_обновление_статуса_объектов_хранилища"><h3>30.3.6. Обновление статуса объектов хранилища</h3></a>

<p class="MsoNormal">Если требуется обновить информацию об объектах,
размещенных в хранилище, нужно выполнить команду <span class="Interface">Обновить статус</span>. По этой команде производится обновление
информации о захвате или отмене захвата, появлении новых объектов по всему хранилищу.</p>

<a id="TI000001105" class="bookmark" name="issogl2_30.3.7_сравнение_хранилища_с_текущей_конфигурацией"><h3>30.3.7. Сравнение хранилища с текущей конфигурацией</h3></a>

<p class="MsoNormal">В любой момент времени можно произвести
сравнение текущей конфигурации с хранилищем. Для этого нужно выполнить команду <span class="Interface">Конфигурация – Хранилище конфигураций – Сравнить/объединить
конфигурацию с хранилищем</span>. На экран выводится окно сравнения (см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 29. механизм сравнения и объединения конфигураций.htm?_=1496848987#_ref217357834">здесь</a>).</p>

<a name="_ref352238700"></a><a name="_ref352238693"></a><a name="_ref375135714"></a><a name="_ref375135713"></a><a id="TI000001106" class="bookmark" name="issogl2_30.3.8_сравнение_объекта_хранилища_с_объектом_текущей_конфигурации"><h3>30.3.8. Сравнение объекта хранилища с объектом текущей конфигурации</h3></a>

<p class="MsoNormalCxSpFirst">Иногда нужно произвести сравнение
конкретного объекта в хранилище и в текущей конфигурации. Для этого в окне <span class="Interface">Хранилище</span> конфигурации нужно выбрать объект и выполнить
команду <span class="Interface">Действия – Сравнить
с объектом конфигурации</span>.</p>

<p class="MsoNormalCxSpMiddle">На экран выводится вопрос: <span class="Interface">Отображать сравнение конфигураций?</span> В случае
утвердительного ответа производится сравнение конфигураций, выводится окно
сравнения конфигураций, в окне сравнения активизируется строка с выбранным
объектом, и на экран выводится диалог настройки отчета. В случае отрицательного
ответа окно сравнения конфигураций на экран не выводится и сравнение не
выполняется.</p>

<p class="MsoNormalCxSpMiddle">Если в хранилище отключен режим
совместимости с версией 8.3.2 (см. <a href="#_ref351716527">здесь</a>), то имеется возможность выполнить выборочное
сравнение двух объектов конфигурации, не выполняя сравнение все конфигурации. При
этом для выборочного сравнения будут доступны только версии объектов, которые
помещались в хранилище с помощью «1С:Предприятия» версии 8.2.9 и старше. Для
выборочного сравнения следует использовать команду контекстного меню <span class="Interface">Сравнить выборочно с объектом хранилища</span>, <span class="Interface">Сравнить выборочно с объектом конфигурации</span> или <span class="Interface">Сравнить выборочно версии объекта</span>, в зависимости от
того, откуда требуется выполнить сравнение: из дерева конфигурации, дерева
хранилища или из окна истории хранилища. При выборе выборочного сравнения из
дерева конфигурации, сравнение будет выполнено с последней версией объекта,
расположенной в хранилище конфигурации. Если выборочное сравнение будет
недоступно – платформа сообщит об этом с помощью диагностического сообщения.</p>

<p class="MsoNormalCxSpLast">Возможность проводить выборочное сравнение
реализована для следующих объектов конфигурации: модуль, макет, картинка,
WS-ссылка, расписание, агрегаты регистра, состав плана обмена, стиль, рабочая
область начальной страницы, карта маршрута, форма (без учета модуля формы), модуль
формы, справочная информация, предопределенные элементы, фрагмент командного
интерфейса, права роли.</p>

<a id="TI000001107" class="bookmark" name="issogl2_30.3.9_сохранение_хранилища_как_конфигурации"><h3>30.3.9. Сохранение хранилища как конфигурации</h3></a>

<p class="MsoNormal">Сохранение хранилища как конфигурации
производится с помощью команды <span class="Interface">Конфигурация – Хранилище
конфигурации – Сохранить конфигурацию хранилища в файл</span>.</p>

<a id="TI000001108" class="bookmark" name="issogl2_30.3.10_отключение_от_хранилища"><h3>30.3.10. Отключение от хранилища</h3></a>

<p class="MsoNormal">Для отключения от хранилища нужно выбрать
пункт <span class="Interface">Конфигурация – Хранилище
конфигурации – Отключиться от хранилища</span>.</p>

<a name="_ref237747330"></a><a id="TI000001109" class="bookmark" name="issogl2_30.3.11_история_хранилища"><h3>30.3.11. История хранилища</h3></a>

<p class="MsoNormalCxSpFirst">Система групповой разработки конфигурации
поддерживает ведение истории изменения информации об объектах конфигурации. В
истории записываются результаты помещения объектов.</p>

<p class="MsoNormalCxSpLast">Каждое изменение объекта можно просмотреть,
сравнить с текущим состоянием, сравнить версии конфигурации, а также получить
конфигурацию указанной версии из хранилища.</p>

<p class="Regularbeforepicture">Для открытия окна истории хранилища следует
выбрать пункт <span class="Interface">Конфигурация – Хранилище –
История хранилища</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00626.gif?_=1496848987" WIDTH="620" ALT HEIGHT="248"></p>

<p class="MsoCaption">Рис. 619. История хранилища</p>

<p class="MsoNormalCxSpFirst">В табличном поле, расположенном в левой
части окна, выводится хронологический список версий конфигурации.</p>

<p class="MsoNormalCxSpMiddle">Ниже списка версий расположено поле для
показа комментария по выбранной версии.</p>

<p class="MsoNormalCxSpMiddle">В табличном поле, расположенном в правой
части окна, выводится список объектов, которые были изменены, добавлены или
удалены в выбранной версии.</p>

<p class="MsoNormalCxSpMiddle">В списке версий допускается множественный
выбор версий. В этом случае в поле <span class="Interface">Комментарий</span>
выводятся комментарии всех выбранных версий, а в списке объектов – список
всех объектов по данным версиям.</p>

<p class="MsoNormalCxSpLast">Каждый объект списка объектов окна <span class="Interface">История хранилища</span> можно открыть для просмотра,
посмотреть историю изменений данного объекта и сравнить с объектом текущей
конфигурации. Эти действия выполняются с помощью команд контекстного меню списка
объектов.</p>

<a id="TI000001110" class="bookmark" name="issogl3_30.3.11.1_работа_с_версией_хранилища"><h4>30.3.11.1. Работа с версией хранилища</h4></a>

<p class="MsoNormal">Каждую версию хранилища конфигурации можно
открыть для просмотра, загрузить вместо текущей конфигурации, сравнить с
текущей конфигурацией, сохранить в файл на диске. Также предоставлена
возможность сравнить версии хранилища конфигурации с конфигурацией, хранящейся
в файле. Все действия выполняются с помощью команд меню <span class="Interface">Действия</span> окна <span class="Interface">История
хранилища</span>.</p>

<p class="Regularbeforepicture">Чтобы вывести информацию по истории
хранилища, можно использовать специальный отчет. Для запуска отчета в окне <span class="Interface">История хранилища</span> следует выбрать пункт <span class="Interface">Действия – Отчет по истории хранилища</span>. На экран
выводится окно для указания параметров отчета.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00627.gif?_=1496848987" WIDTH="293" ALT HEIGHT="346"></p>

<p class="MsoCaption">Рис. 620. Параметры отчета по
истории хранилища</p>

<p class="MsoNormalCxSpFirst">В группе <span class="Interface">Отчет по</span> выбирают вид группировки информации в отчете. В
каждой группе информация сортируется по алфавиту.</p>

<p class="MsoNormalCxSpMiddle">Если выбран вид <span class="Interface">Версиям хранилища</span>, то информация группируется по номерам
версий. Если выбран вид <span class="Interface">Объектам разработки</span>,
то информация группируется по объектам. Если выбран вид <span class="Interface">Комментариям к версиям</span>, то информация группируется по
комментариям в истории хранилища.</p>

<p class="MsoNormalCxSpMiddle">В группе <span class="Interface">Выводить в</span> выбирают вид представления отчета (текстовый
или табличный документ).</p>

<p class="MsoNormalCxSpMiddle">В группе <span class="Interface">Параметры</span> указываются дополнительные параметры отчета.</p>

<p class="MsoNormalCxSpMiddle">Для исключения строк комментария,
начинающихся с «<span class="Interface">//</span>», следует
установить соответствующий флажок.</p>

<p class="MsoNormalCxSpMiddle">Чтобы указать объекты, по которым требуется
выполнить отчет, и интервал дат, следует нажать кнопку <span class="Interface">Отбор</span>. В открывшемся окне задания отбора установить
параметры отбора.</p>

<p class="MsoNormalCxSpLast">Для начала построения отчета нажать кнопку <span class="Interface">ОК</span>.</p>

<a name="_ref453238714"></a><a id="TI000001111" class="bookmark" name="issogl3_30.3.11.2_возврат_к_предыдущим_версиям"><h4>30.3.11.2. Возврат к предыдущим версиям</h4></a>

<p class="MsoNormalCxSpFirst">Если в хранилище конфигурации были
опубликованы ненужные версии, конфигуратор предоставляет возможность отката до
нужной версии хранилища. Для этого в списке версий нужно выбрать ту, до которой
следует откатиться, и выбрать пункт <span class="Interface">Действия –
Откатить до версии</span>. На экран выводится вопрос-предупреждение: <span class="Interface">При выполнении отката информация об откатываемых версиях будет
удалена без возможности восстановления. Продолжить?</span> В случае
утвердительного ответа будет произведен откат, при котором из хранилища
удаляются все версии, помещенные после указанной.</p>

<p class="MsoNormalCxSpLast">Если для отката выбрано очень большое
количество версий (несколько тысяч), то во время операции возврата к предыдущей
версии может возникнуть ошибка нехватки оперативной памяти и операция будет
прервана. В этом случае рекомендуется выполнять операцию отката более мелкими
порциями, по несколько сотен версий.</p>

<a name="_ref453238728"></a><a id="TI000001112" class="bookmark" name="issogl3_30.3.11.3_сокращение_версий"><h4>30.3.11.3. Сокращение версий</h4></a>

<p class="MsoNormalCxSpFirst">Если ранние версии конфигураций становятся
ненужными, их можно удалить из хранилища. Для этого в списке версий следует
выбрать ту, до которой нужно сократить, и выбрать пункт <span class="Interface">Действия – Сократить до версии</span>. На экран выводится
вопрос-предупреждение: <span class="Interface">При выполнении
информация об удаляемых версиях будет уничтожена без возможности
восстановления. Продолжить?</span> В случае утвердительного ответа будет
произведено сокращение, при котором из хранилища удаляются все версии,
помещенные до указанной.</p>

<p class="MsoNormalCxSpLast">Если для удаления выбрано очень большое
количество версий (несколько тысяч), то во время операции сокращения версий
может возникнуть ошибка нехватки оперативной памяти и операция будет прервана.
В этом случае рекомендуется выполнять операцию сокращения более мелкими
порциями, по несколько сотен версий.</p>

<a id="TI000001113" class="bookmark" name="issogl3_30.3.11.4_объединение_версий"><h4>30.3.11.4. Объединение версий</h4></a>

<p class="MsoNormalCxSpFirst">Несколько последовательных версий хранилища
можно объединять. Для этого в окне <span class="Interface">История
хранилища</span> нужно выделить объединяемые версии (при этом в разделе <span class="Interface">Комментарий</span> формируется сводный комментарий, состоящий
из комментариев версий, а в списке объектов показываются все объекты, над
которыми были выполнены любые действия, выбранных версий) и выбрать пункт <span class="Interface">Действия – Объединить версии</span>.</p>

<p class="MsoNormalCxSpLast">В результате в истории хранилища будет
сформирована одна версия, включающая сводные изменения указанных версий.</p>

<a id="TI000001114" class="bookmark" name="issogl3_30.3.11.5_установка_меток_версий"><h4>30.3.11.5. Установка меток версий</h4></a>

<p class="Regularbeforepicture">Для каждой версии конфигурации в окне <span class="Interface">История хранилища</span> можно установить метку. Для этого следует
выбрать нужную версию и в контекстном меню выбрать пункт <span class="Interface">Изменить</span>. На экран выводится диалог.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00628.gif?_=1496848987" WIDTH="448" ALT HEIGHT="379"></p>

<p class="MsoCaption">Рис. 621. Версия хранилища</p>

<p class="MsoNormal">Нужно ввести значение метки. При вводе
первого символа становится доступным поле <span class="Interface">Комментарий
метки</span>, в которое записывается текст, описывающий назначение данной
метки. Метки в основном играют роль отметок завершения определенных логических
этапов или действий (выпуск новых версий конфигураций, подготовка поставки и
др.).</p>

<a name="_ref367960664"></a><a name="_ref367960663"></a><a id="TI000001115" class="bookmark" name="issogl3_30.3.11.6_отбор"><h4>30.3.11.6. Отбор</h4></a>

<p class="Regularbeforepicture">Диалог отбора списка <span class="Interface">История хранилища</span> отличается от стандартного.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00629.gif?_=1496848987" WIDTH="732" ALT HEIGHT="527"></p>

<p class="MsoCaption"><a name="_ref367958592">Рис. </a>622.
Отбор версий</p>

<p class="MsoNormalCxSpFirst">Отбор версий выполняется в интервале
времени, в интервале версий хранилища (или в комбинации версии и даты), по
указанному списку пользователей хранилища, выполнивших размещение версий, по
определенным объектам конфигурации, по определенной версии конфигурации. Также
имеется возможность устанавливать отбор по конкретным свойствам объектов
конфигурации. Для этого предназначено дерево свойств в окне установки отбора.
Так, в примере на <a href="#_ref367958592">рис.622</a>, для всех выбранных справочников (<span class="Term">Товары</span>,
<span class="Term">Валюты</span>,
<span class="Term">РасчетныеСчетаКонтрагентов</span>
в дереве <span class="Interface">Объект</span>) будут
отображены только те версии, где у этих справочников изменялись модули
менеджеров и модули объектов (в дереве <span class="Interface">Свойство</span>).
Для упрощения выбора свойств в командной панели дерева Свойство присутствует
кнопка <span class="Interface">Отметить все свойства
выбранных объектов</span>. С помощью этой кнопки выбираются все свойства для
тех объектов конфигурации, которые отмечены в дереве объектов. Возможность
выполнять отбор истории реализован по следующим свойствам объектов
конфигурации: модуль, макет, картинка, WS-ссылка, расписание регламентного
задания, агрегаты оборотного регистра накопления, состав плана обмена, стиль,
рабочая область начальной страницы, карта маршрута, форма, справочная
информация, предопределенные элементы, фрагмент командного интерфейса, права
роли.</p>

<p class="MsoNormalCxSpMiddle">При выборе в дереве свойств элемента <span class="Interface">Объект</span>, в историю попадут те версии, где изменялись
свойства соответствующего объекта конфигурации, для которых недоступно
выборочное сравнение.</p>

<p class="MsoNormalCxSpMiddle">Кроме того, можно указать необходимость
вывода версий, помеченных метками, а также включения в выборку только тех
версий, которые помечены метками.</p>

<p class="MsoNormalCxSpLast">По каждой выбранной версии списка версий в
левой части окна <span class="Interface">История хранилища</span>
содержится список объектов, которые были добавлены, изменены или удалены. Этот
список всегда полный для данной версии (не зависит от условий отбора). Если в
условиях отбора указываются конкретные объекты конфигурации (не вся
конфигурация), то в списке объекты, удовлетворяющие условию отбора, выделяются
другим цветом фона.</p>

<a name="_ref367960676"></a><a name="_ref367960675"></a><a id="TI000001116" class="bookmark" name="issogl3_30.3.11.7_сравнение_версий_хранилища"><h4>30.3.11.7. Сравнение версий хранилища</h4></a>

<p class="MsoNormalCxSpFirst">Иногда нужно произвести сравнение версий
конфигурации хранилища. Для этого в окне <span class="Interface">История
хранилища</span> нужно выбрать две сравниваемые версии (выбор производится с
нажатой клавишей <span class="Interface">Ctrl</span>) и выполнить
команду <span class="Interface">Действия – Сравнить
версии конфигурации</span> или <span class="Interface">Действия – Сравнить
выборочно версии объекта</span>. Подробнее о выборочном сравнении см. <a href="#_ref352238700">здесь</a>.</p>

<p class="MsoNormalCxSpLast">Производится сравнение указанных версий
конфигураций друг с другом, и выводится окно сравнения конфигураций.</p>

<a name="_ref367960707"></a><a name="_ref367960706"></a><a id="TI000001117" class="bookmark" name="issogl2_30.3.12_история_объекта"><h3>30.3.12. История объекта</h3></a>

<p class="MsoNormal">Для просмотра истории изменения объекта в
списке объектов хранилища или в окне <span class="Interface">Конфигурация</span>
нужно указать объект и выбрать пункт <span class="Interface">Действия –
История объекта</span> или с помощью меню <span class="Interface">Действия –
Выборочная история объекта</span>. Для каждого объекта доступен собственный
набор свойств, по которым можно просматривать историю.</p>

<p class="Regularbeforepicture">После выбора вида просмотра, на экран
выводится диалог отбора истории.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00630.gif?_=1496848987" WIDTH="385" ALT HEIGHT="141"></p>

<p class="MsoCaption">Рис. 623. Отбор истории объекта</p>

<p class="MsoNormal">Следует указать нужные параметры отбора и нажать
кнопку <span class="Interface">ОК</span>.</p>

<p class="Regularbeforepicture">На экран выводится окно истории объекта.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00631.gif?_=1496848987" WIDTH="553" ALT HEIGHT="238"></p>

<p class="MsoCaption">Рис. 624. История объекта</p>

<p class="MsoNormalCxSpFirst">Каждое изменение объекта можно просмотреть,
сравнить с текущим состоянием, сравнить версии (для этого необходимо в списке
выбрать две версии).</p>

<p class="MsoNormalCxSpMiddle">По каждой версии объекта можно просмотреть
комментарии и метки аналогично версиям конфигурации (см. выше), а также получить
конфигурацию указанной версии из хранилища.</p>

<p class="MsoNormalCxSpMiddle">В списке версий объекта можно выполнить
отбор. Отбор выполняется аналогично описанному выше отбору в истории хранилища.
При этом в окне отбора версий будет выбран текущий объект и соответствующие
свойства: все, если был выбран просмотр истории объекта или указанное, если был
выбран просмотр выборочной истории.</p>

<p class="MsoNormalCxSpLast">Если требуется перейти в окно истории
хранилища, то в подменю <span class="Interface">Перейти</span> окна
истории объектов нужно выбрать пункт <span class="Interface">История
хранилища</span>. Если требуется открыть окно истории хранилища с одновременной
установкой отбора по текущему объекту, то следует выбрать пункт <span class="Interface">История хранилища по объекту</span>.</p>

<a id="TI000001118" class="bookmark" name="issogl2_30.3.13_выполнение_действий_с_хранилищем_без_подключения"><h3>30.3.13. Выполнение действий с хранилищем без подключения</h3></a>

<p class="MsoNormal">Некоторые действия с хранилищем можно
выполнять без подключения.</p>

<p class="Regularbeforepicture">Если конфигурация не подключена к хранилищу,
то предварительно нужно установить соединение с хранилищем. Для этого следует
выбрать любой доступный пункт из группы <span class="Interface">Конфигурация –
Хранилище конфигурации</span>. На экран выводится диалог соединения с
хранилищем.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00606.gif?_=1496848987" WIDTH="313" ALT HEIGHT="199"></p>

<p class="MsoCaption">Рис. 625. Подключение к
хранилищу</p>

<p class="MsoNormalCxSpFirst">Нужно указать те же данные, что и при
подключении, и нажать кнопку <span class="Interface">ОК</span>.</p>

<p class="MsoNormalCxSpMiddle">После установки соединения при выборе других
доступных пунктов меню диалог соединения не выводится.</p>

<p class="MsoNormalCxSpMiddle">В режиме соединения доступны все действия,
связанные с просмотром данных хранилища, сравнением объектов и конфигураций, а
также администрирование хранилища в полном объеме (для пользователей, имеющих
административные права). Недоступны действия, связанные с получением объектов
из хранилища.</p>

<p class="MsoNormalCxSpLast">В режиме соединения пользователи, имеющие
административные права, могут выполнять все действия, связанные с историей
хранилища.</p>

<a id="TI000001119" class="bookmark" name="issogl1_30.4_удаленная_работа_с_хранилищем_конфигурации"><h2>30.4. Удаленная работа с хранилищем конфигурации</h2></a>

<a id="TI000001823" class="bookmark" name="issogl2_30.4.1_общая_информация"><h3>30.4.1. Общая информация</h3></a>

<p class="MsoNormal">Механизм удаленной работы с хранилищем конфигурации
расширяет возможности групповой разработки конфигурации:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
хранилище конфигурации может быть расположено на
компьютере, работающем под управлением операционных систем Windows или Linux;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
доступ к хранилищу конфигурации могут иметь
пользователи локальной сети (по протоколу TCP/IP) и пользователи сети Интернет
(по протоколу HTTP).</p>

<p class="MsoNormal">Для прикладного разработчика удаленная работа с хранилищем
конфигурации практически ничем не отличается от работы с хранилищем,
расположенным на общем сетевом ресурсе, за исключением некоторых особенностей, описание
которых см. <a href="#_ref178063204">здесь</a>.</p>

<p class="Note"><span class="Note">Примечание.</span>
Механизм удаленной работы с хранилищем ориентирован, в основном, на работу через
соединение с высокой пропускной способностью. Кроме этого, следует учитывать,
что при использовании удаленной работы может существенно возрастать время
операций, требующих обмена большим количеством информации, например таких, как
получение полной версии хранилища.</p>

<a id="TI000001120" class="bookmark" name="issogl2_30.4.2_обзор_архитектуры"><h3>30.4.2. Обзор архитектуры</h3></a>

<a id="TI000001822" class="bookmark" name="issogl3_30.4.2.1_общая_информация"><h4>30.4.2.1. Общая информация</h4></a>

<p class="Regularbeforepicture">Удаленную
работу с хранилищем конфигурации обеспечивает специальное приложение – <span class="Bold">сервер хранилища конфигурации</span>. Компьютер, на котором функционирует
приложение сервера хранилища конфигурации (<span class="Interface">crserver.exe</span>
для Windows или <span class="Interface">crserver</span> для Linux), также называется <span class="Bold">сервер хранилища
конфигурации</span>. В зависимости от протокола работы (TCP или HTTP) используются
различные схемы удаленного взаимодействия клиентского приложения и хранилища
конфигурации. При этом обеспечивается одновременная работа с хранилищем конфигурации
как удаленно, так и «локально», как с общим файловым ресурсом.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00632.gif?_=1496848987" WIDTH="606" ALT HEIGHT="419"></p>

<p class="MsoCaption">Рис.
626.
Удаленное хранилище</p>

<a name="_ref228189259"></a><a id="TI000001121" class="bookmark" name="issogl3_30.4.2.2_общая_схема_работы_с_хранилищем_конфигурации"><h4>30.4.2.2. Общая схема работы с хранилищем конфигурации</h4></a>

<p class="Regularbeforepicture">В общем
случае система «1С:Предприятие» обеспечивает одновременную работу с хранилищем
конфигурации с использованием всех протоколов доступа к хранилищу: файловый
доступ, протокол TCP и протокол HTTP.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00633.gif?_=1496848987" WIDTH="656" ALT HEIGHT="373"></p>

<p class="MsoCaption">Рис.
627. Взаимодействие с удаленным хранилищем</p>

<p class="Regularbeforepicture">При
этом один и тот же сервер хранилища конфигурации позволяет работать клиентам с
различными хранилищами конфигурации. Единственное ограничение – все
хранилища должны быть расположены в одном корневом каталоге.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00634.gif?_=1496848987" WIDTH="731" ALT HEIGHT="353"></p>

<p class="MsoCaption">Рис.
628. Расположение различных файлов хранилищ</p>

<a id="TI000001122" class="bookmark" name="issogl3_30.4.2.3_взаимодействие_по_протоколу_tcp"><h4>30.4.2.3. Взаимодействие по протоколу TCP</h4></a>

<p class="Regularbeforepicture">Когда
используется протокол TCP, клиентское приложение взаимодействует с сервером
хранилища конфигурации, который, в свою очередь, взаимодействует
непосредственно с самим хранилищем конфигурации.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00635.gif?_=1496848987" WIDTH="419" ALT HEIGHT="296"></p>

<p class="MsoCaption">Рис.
629.
Взаимодействие по протоколу TCP</p>

<a name="_ref228189503"></a><a id="TI000001123" class="bookmark" name="issogl3_30.4.2.4_взаимодействие_по_протоколу_http"><h4>30.4.2.4. Взаимодействие по протоколу HTTP</h4></a>

<p class="Regularbeforepicture">Когда
используется протокол HTTP, взаимодействие осуществляется по следующей цепочке:
клиентское приложение – веб-сервер – сервер хранилища
конфигурации – хранилище конфигурации.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00636.gif?_=1496848987" WIDTH="636" ALT HEIGHT="315"></p>

<p class="MsoCaption">Рис.
630.
Взаимодействие по протоколу HTTP</p>

<a id="TI000001124" class="bookmark" name="issogl2_30.4.3_установка_сервера_хранилища"><h3>30.4.3. Установка сервера хранилища</h3></a>

<p class="MsoNormalCxSpFirst">Установка
сервера хранилища конфигурации см. <a href="/db/v8310doc/bookmark/adm/TI000000036" target="_top">здесь</a>.</p>

<p class="MsoNormalCxSpLast">После
установки сервера хранилища конфигурации необходимо для пользователя, от имени
которого работает сервер хранилища конфигурации, права записи и чтения на
каталог, в котором расположено хранилище конфигурации (файл <span class="Interface">1Cv8DDB.1CD</span> и
каталог <span class="Interface">data</span>).</p>

<a id="TI000001125" class="bookmark" name="issogl2_30.4.4_настройка_веб-сервера_для_работы_с_хранилищем"><h3>30.4.4. Настройка веб-сервера для работы с хранилищем</h3></a>

<p class="MsoNormal">Если планируется удаленная работа с
хранилищем по протоколу HTTP, то кроме настройки сервера хранилища конфигурации
необходимо настроить веб-сервер на работу с системой «1С:Предприятие» и
сервером хранилища конфигурации. Настройка заключается в следующих действиях:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
Зарегистрировать модуль расширения веб-сервера;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
Зарегистрировать виртуальное приложение на
веб-сервере;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
Опубликовать конфигурационный файл работы с
сервером хранилища конфигурации.</p>

<p class="Note"><span class="Note">Примечание.</span> На веб-сервере <span class="Bold">обязательно</span> должна быть установлена поддержка <span class="Bold">ISAPI расширений</span>.</p>

<p class="MsoNormal">Публикация конфигурационного файла работы с
сервером хранилища конфигурации сводится к размещению файла с расширением <span class="Interface">1ccr</span> в виртуальном каталоге веб-сервера. Например, такой
конфигурационный файл может иметь имя <span class="Interface">storage.1ccr</span> и следующее содержание:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;storage connectString=&quot;tcp://RepServ&quot;/&gt;
</pre>

<p class="MsoNormalCxSpFirst">Описание
файла <span class="Interface">*.1ccr</span> приведено <a href="/db/v8310doc/bookmark/adm/TI000000366" target="_top">в книге 1С:Предприятие 8.3. &quot;Руководство администратора&quot;</a>.</p>

<p class="MsoNormalCxSpLast">Для
настройки веб-сервера необходимы права администратора.</p>

<p class="Note">Примечание. Сервер хранилища является 32-разрядным
приложением, поэтому при работе через веб-сервер следует использовать или
32-разрядные операционные системы и веб-серверы или разрешить веб-серверу Microsoft
Internet Information Services исполнять 32-разрядные модули.</p>

<a id="TI000001126" class="bookmark" name="issogl3_30.4.4.1_для_веб-сервера_microsoft_internet_information_services"><h4>30.4.4.1. Для веб-сервера Microsoft Internet Information Services</h4></a>

<p class="MsoNormal">Данный
раздел содержит настройки веб-сервера Microsoft Internet Information Services
(далее IIS) в зависимости от версии веб-сервера.</p>

<a id="TI000001127" class="bookmark" name="issogl4_30.4.4.1.1_для_iis_версий_5.1_6.0"><h5>30.4.4.1.1. Для IIS версий 5.1, 6.0</h5></a>

<p class="Regularbeforepicture">Необходимо создать
виртуальный каталог. Для этого необходимо использовать мастер создания
виртуального каталога из контекстного меню пункта <span class="Interface">Веб-узел по умолчанию</span>
(<span class="Interface">Internet </span><span class="Interface">Information </span><span class="Interface">Services – &lt;Имя компьютера с
веб-сервером&gt; – Веб-узлы – Веб-узел по умолчанию</span>). В
контекстном меню необходимо выбрать пункт <span class="Interface">Создать – Виртуальный
каталог …</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00637.gif?_=1496848987" WIDTH="481" ALT HEIGHT="381"></p>

<p class="MsoCaption">Рис. 631. Задание имени
виртуального каталога</p>

<p class="Regularbeforepicture">Имя, указанное в
поле <span class="Interface">Псевдоним</span>,
будет использоваться при формирования URL доступа с хранилищу. Затем
необходимо указать путь к папке, содержащей файлы создаваемого каталога.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00638.gif?_=1496848987" WIDTH="481" ALT HEIGHT="382"></p>

<p class="MsoCaption">Рис. 632. Указание каталога</p>

<p class="Regularbeforepicture">На следующем шаге необходимо указать, какие
действия необходимо разрешить при работе с каталогом. Следует указать возможность
выполнять <span class="Interface">чтение</span> и <span class="Interface">выполнение (например приложений ISAPI или CGI)</span>.
Остальные права следует выключить.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00639.gif?_=1496848987" WIDTH="482" ALT HEIGHT="381"></p>

<p class="MsoCaption">Рис. 633. Установка разрешений</p>

<p class="Regularbeforepicture">На следующем шаге мастера необходимо нажать
кнопку <span class="Interface">Готово</span>. На этом создание виртуального каталога завершено.
Следующим шагом необходимо настроить созданный каталог и зарегистрировать для
него расширение веб-сервера. Для этого надо открыть свойства созданного
виртуального каталога и в открывшемся диалоге нажать кнопку <span class="Interface">Настройка</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00640.gif?_=1496848987" WIDTH="542" ALT HEIGHT="454"></p>

<p class="MsoCaption"><a name="_ref325632771">Рис. </a>634. Регистрация
расширения веб-сервера</p>

<p class="MsoNormal">В качестве расширения веб-сервера IIS выступает
динамическая библиотека <span class="Interface">wsisapi.dll</span>, расположенная в каталоге <span class="Interface">bin</span> конкретной версии «1С:Предприятия».</p>

<p class="Note"><span class="Note">Совет.</span> Для регистрации расширения веб-сервера
используйте или короткий путь («формат 8.3») или устанавливайте
«1С:Предприятие» в каталог, не содержащий пробелов и имен каталогов, длиннее 8
символов.</p>

<p class="MsoNormalCxSpFirst">В качестве расширения (поле <span class="Interface">Расширение:</span> в диалоге на <a href="#_ref325632771">рис.634</a>) можно указать как конкретное расширение (<span class="Interface">.1ccr</span>), так и маску всех файлов (<span class="Interface">*</span>).</p>

<p class="MsoNormalCxSpLast">Последним шагом
необходимо перезапустить веб-сервер.</p>

<a id="TI000001128" class="bookmark" name="issogl4_30.4.4.1.2_для_iis_версий_7.0_7.5"><h5>30.4.4.1.2. Для IIS версий 7.0, 7.5</h5></a>

<p class="Regularbeforepicture">Необходимо
создать виртуальное приложение. Для этого необходимо использовать мастер
создания виртуального приложения из контекстного меню пункта <span class="Interface">Default Web </span><span class="Interface">Site</span> (&lt;Имя компьютера с веб-сервером&gt; – сайты – Default
Web <span class="Interface">Site</span>). В контекстном меню необходимо выбрать
пункт <span class="Interface">Добавить приложение …</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00641.gif?_=1496848987" WIDTH="541" ALT HEIGHT="377"></p>

<p class="MsoCaption">Рис.
635. Создание виртуального приложения</p>

<p class="MsoNormal">Имя,
указанное в поле <span class="Interface">Псевдоним</span>,
будет использоваться при формировании URL доступа с хранилищу.</p>

<p class="Regularbeforepicture">Затем
необходимо добавить обработчик для файлов <span class="Interface">.1ccr</span>. Для
этого необходимо выбрать команду <span class="Interface">&lt;Имя компьютера с
веб-сервером&gt; – сайты – Default Web Site – storage – Сопоставления
обработчиков – Добавить сопоставление сценария …</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00642.gif?_=1496848987" WIDTH="480" ALT HEIGHT="393"></p>

<p class="MsoCaption"><a name="_ref325641832">Рис. </a>636. Добавление
обработчика</p>

<p class="MsoNormalCxSpFirst">В
качестве расширения веб-сервера IIS выступает динамическая библиотека <span class="Interface">wsisapi.dll</span>,
расположенная в каталоге <span class="Interface">bin</span> конкретной
версии «1С:Предприятия».</p>

<p class="MsoNormalCxSpMiddle">В
качестве расширения (поле <span class="Interface">Путь запроса:</span> в
диалоге на <a href="#_ref325641832">рис.636</a>) можно указать как конкретное расширение (<span class="Interface">*.1ccr</span>), так и
маску всех файлов (<span class="Interface">*</span>).</p>

<p class="MsoNormalCxSpLast">Последним
шагом необходимо перезапустить веб-сервер.</p>

<a id="TI000001129" class="bookmark" name="issogl3_30.4.4.2_для_веб-сервера_apache"><h4>30.4.4.2. Для веб-сервера Apache</h4></a>

<p class="MsoNormal">Для
того чтобы выполнить настройку веб-сервера Apache на работу с хранилищем
конфигурации, необходимо выполнить следующие действия:</p>

<p class="MsoListBullet">&#9679; 
Включить в конфигурационный файл веб-сервера (<span class="Interface">httpd.conf</span>)
загрузку модуля расширения веб-сервера. В зависимости от версии веб-сервера и
используемой операционной системы, модули расширения имеют разное имя:</p>

<p class="MsoListBullet2">&#9679; 
Для ОС Windows:</p>

<p class="MsoListBullet3CxSpFirst">&#9679; 
Для Apache 2.0: <span class="Interface">wsapch2.dll</span>.</p>

<p class="MsoListBullet3CxSpLast">&#9679; 
Для Apache 2.2: wsap22.dll.</p>

<p class="MsoListBullet2">&#9679; 
Для ОС Linux:</p>

<p class="MsoListBullet3CxSpFirst">&#9679; 
Для Apache 2.0: <span class="Interface">wsapch2.so</span>.</p>

<p class="MsoListBullet3CxSpLast">&#9679; 
Для Apache 2.2: <span class="Interface">wsap22.so</span>.</p>

<p class="Indentlist">Модуль
расширения веб-сервера имеет идентификатор <span class="Term">_1cws_module</span>. Для загрузки модуля необходимо
внести в конфигурационный файл следующую строку вида LoadModule _1cws_module
&lt;путь к модулю расширения веб-сервера&gt;.</p>

<p class="Lang-subheader">Пример для ОС Windows:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">LoadModule _1cws_module &quot;C:\Program Files\1cv8\8.3.1.100\bin\wsap22.dll&quot;</pre>

<p class="Lang-subheader">Пример для ОС Linux:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">LoadModule _1cws_module /opt/1C/v8.2/i386/wsap22.so</pre>

<p class="MsoListBullet">&#9679; 
Создать на веб-сервере виртуальный каталог,
через который будет осуществляться доступ к хранилищу конфигурации и зарегистрировать
обработчик файлов для каталога виртуального приложения. Идентификатор
регистрируемого обработчика: <span class="Term">1c-application</span>.</p>

<p class="Lang-subheader">Пример виртуального каталога для ОС Windows:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">
Alias &quot;/repos&quot; &quot;C:\www\repos\&quot;
&lt;Directory &quot;C:\www\repos\&quot;&gt;
    AllowOverride None
    Options None
    Order allow,deny
    Allow from all
    SetHandler 1c-application
&lt;/Directory&gt;
</pre>

<p class="Lang-subheader">Пример виртуального каталога для ОС Linux:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">
Alias &quot;/repos&quot; &quot;/var/1C/www/repos&quot;
&lt;Directory &quot;/var/1C/www/repos&quot;&gt;
    AllowOverride None
    Options None
    Order allow,deny
    Allow from all
    SetHandler 1c-application
&lt;/Directory&gt;
</pre>

<p class="MsoListBullet">&#9679; 
Разместить в папке с файлами виртуального каталога
файл <span class="Interface">*.1ccr</span>, в котором
указать адрес сервера хранилища конфигурации (в схеме TCP).</p>

<p class="Lang-subheader">Пример файла .1ccr:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;repository connectString=&quot;tcp://192.168.0.12&quot;/&gt;
</pre>

<p class="MsoListBullet">&#9679; 
Перезапустить веб-сервер.</p>

<a id="TI000001130" class="bookmark" name="issogl2_30.4.5_запуск_сервера_хранилища"><h3>30.4.5. Запуск сервера хранилища</h3></a>

<p class="MsoNormalCxSpFirst">В
операционной системе Windows сервер хранилища конфигурации может быть запущен
как приложение или установлен как сервис.</p>

<p class="MsoNormalCxSpLast">В
операционной системе Linux сервер хранилища конфигурации может быть запущен как
процесс или как демон.</p>

<a id="TI000001131" class="bookmark" name="issogl3_30.4.5.1_для_ос_windows"><h4>30.4.5.1. Для ОС Windows</h4></a>

<p class="MsoNormal">Запуск
сервера хранилища выполняется из командной строки:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">
crserver.exe -instsrvc | -rmsrvc -usr &lt;пользователь&gt; -pwd &lt;пароль&gt;
    -start | -stop
    -port &lt;порт&gt; -d &lt;каталог&gt;
</pre>

<p class="MsoNormal">В
случае установки в качестве сервиса сервер хранилища имеет имя <span class="Interface">1C:Enterprise 8
Configuration Repository Server</span>.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Название и значение параметра должны разделяться
символом пробел.</p>

<p class="Lang-parameter">-start</p>

<p class="MsoNormal">Запуск
сервиса сервера хранилища.</p>

<p class="Lang-parameter">-stop</p>

<p class="MsoNormal">Остановка
сервиса сервера хранилища.</p>

<p class="Lang-parameter">-instsrvc</p>

<p class="MsoNormal">Регистрация
сервера хранилища как сервиса.</p>

<p class="Lang-parameter">-rmsrvc</p>

<p class="MsoNormal">Удаление
регистрации сервера хранилища как сервиса.</p>

<p class="Lang-parameter">-usr</p>

<p class="MsoNormal">Имя
пользователя, от имени которого будет зарегистрирован сервис. Этот пользователь
должен обладать правом <span class="Interface">Вход в систему как сервис</span> (<span class="Interface">Log on as a service</span>).
Кроме этого, он должен обладать правами на чтение каталога исполняемых файлов соответствующей
версии системы «1С:Предприятие» и полными правами на корневой каталог хранилища
конфигурации (каталог <span class="Interface">%APPDATA%\1C\1Cv8\</span> или тот каталог, который указан в
параметре <span class="Interface">-d</span>).</p>

<p class="Lang-parameter">-pwd</p>

<p class="MsoNormal">Пароль
пользователя, от имени которого будет зарегистрирован сервис.</p>

<p class="Lang-parameter">-port</p>

<p class="MsoNormal">Рабочий
порт сервера хранилища. По умолчанию используется порт <span class="Interface">1542</span>.</p>

<p class="Lang-parameter">-d</p>

<p class="MsoNormal">Корневой
каталог для хранилищ конфигурации. По умолчанию используется каталог <span class="Interface">%APPDATA%\1C\1Cv8\</span>.</p>

<a name="_ref448166509"></a><a id="TI000001132" class="bookmark" name="issogl3_30.4.5.2_для_ос_linux"><h4>30.4.5.2. Для ОС Linux</h4></a>

<p class="MsoNormal">Запуск
сервера хранилища выполняется из командной строки:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">./crserver -daemon -port &lt;порт&gt; -d &lt;каталог&gt;</pre>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Название и значение параметра должны разделяться
символом пробел.</p>

<p class="Lang-parameter"><span class="Interface">-</span>daemon</p>

<p class="MsoNormal">Запуск
сервера как демона.</p>

<p class="Lang-parameter">-port</p>

<p class="MsoNormal">Рабочий
порт сервера хранилища. По умолчанию используется порт <span class="Interface">1542</span>.</p>

<p class="Lang-parameter">-d</p>

<p class="MsoNormalCxSpFirst">Корневой
каталог для хранилищ конфигурации. По умолчанию используется каталог <span class="Interface">/home/usr1cv8/.1cv8</span>
или <span class="Interface">~/.1cv8</span>.</p>

<p class="MsoNormalCxSpLast">При
работе с сервером хранилища может возникать ошибка вида <span class="Interface">&lt;ПолноеИмяФайла&gt;
</span><span class="Interface">too </span><span class="Interface">many </span><span class="Interface">open </span><span class="Interface">files</span>.
В этом случае необходимо увеличить максимальное количество открываемых файлов
для процесса с помощью файла <span class="Interface">/etc/security/limits.conf</span> (необходимы
привилегии суперпользователя (<span class="Interface">root</span>)). Для пользователя, от имени
которого запускается сервер хранилища, следует изменить значение параметр <span class="Interface">nofile</span>.
Значение подбирается опытным путем и зависит от размера конфигурации и
количества пользователей, работающих с хранилищем. Рекомендуется в качестве
начального значения использовать значение 100000. Если ошибка продолжает
появляться, значит значение параметра <span class="Interface">nofile</span> следует еще
увеличить.</p>

<a id="TI000001133" class="bookmark" name="issogl2_30.4.6_подключение_к_серверу_хранилища_конфигурации"><h3>30.4.6. Подключение к серверу хранилища конфигурации</h3></a>

<p class="MsoNormal">Подключение
клиента к хранилищу конфигурации при удаленной работе осуществляется так же,
как и при работе с хранилищем, расположенным на общем сетевом ресурсе. Отличие
заключается лишь в способе указания каталога хранилища. В зависимости от
используемого протокола каталог хранилища может быть указан двумя способами.</p>

<p class="Lang-subheader">Для
протокола TCP:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">tcp://&lt;имя сервера хранилища&gt;/&lt;относительный путь к хранилищу&gt;</pre>

<p class="Lang-subheader">Для
протокола HTTP:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">&lt;адрес файла описания (см. стр. )&gt;/&lt;относительный путь к хранилищу&gt;</pre>

<p class="Lang-subheader">Например:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">tcp://RepServ/MyConfRep</pre>

<p class="MsoNormal">Или:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">http://www.MyCompany.ru/VirtualFolder/storage.1ccr/MyConfRep</pre>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">RepServ</span> – имя
сервера хранилища конфигурации;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<a href="http://www" target="_blank">http://www</a><span class="Interface">.MyCompany.ru</span> –
адрес веб-сервера, на котором опубликован файл описания Web-сервиса;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<a href="http://www" target="_blank">http://www</a><span class="Interface">.MyCompany.ru/VirtualFolder/storage.1ccr</span> –
полный адрес файла описания см. в схеме HTTP;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">MyConfRep</span> – относительный
путь к хранилищу конфигурации.</p>

<p class="MsoNormalCxSpFirst">Относительный
путь указывается от каталога по умолчанию (<span class="Interface">%APPDATA%\1C\1Cv8\</span>),
если каталог не был задан в явном виде, или от каталога, указанного в параметре
<span class="Interface">-d</span> при запуске сервера хранилища. Если относительный
путь к хранилищу не указан, будет выполнено подключение к хранилищу по
умолчанию (каталог <span class="Interface">maincr</span>).</p>

<p class="MsoNormalCxSpLast">При
работе с сервером хранилища конфигурации, версии сервера хранилища и
Конфигуратора должны совпадать. В случае несовпадения версий Конфигуратора и
сервера хранилища конфигураций работа с хранилищем невозможна.</p>

<a id="TI000001134" class="bookmark" name="issogl2_30.4.7_создание_хранилища_конфигурации"><h3>30.4.7. Создание хранилища конфигурации</h3></a>

<p class="MsoNormalCxSpFirst">При
первом запуске сервера хранилища конфигурации на компьютере будет создан
каталог по умолчанию для размещения хранилища конфигурации. Такой каталог имеет
имя <span class="Interface">maincr</span>. Если при запуске сервера не был указан ключ <span class="Interface">-d</span>, то
хранилище конфигурации по умолчанию будет располагаться в каталоге <span class="Interface">%APPDATA%\1C\1Cv8\maincr</span>.</p>

<p class="MsoNormalCxSpMiddle">Для
создания нового хранилища конфигурации следует из клиентского приложения в
режиме Конфигуратор выполнить создание хранилища, указав в качестве каталога хранилища
требуемый новый каталог.</p>

<p class="MsoNormalCxSpLast">Чтобы обеспечить максимальную производительность, рекомендуется
размещать корневой каталог хранилища конфигурации на компьютере сервера
хранилища конфигурации. Система «1С:Предприятие» поддерживает размещение каталогов
хранилища на сетевых ресурсах, доступных серверу хранилища, однако такой
вариант работы может приводить к снижению производительности.</p>

<a name="_ref178063204"></a><a id="TI000001135" class="bookmark" name="issogl2_30.4.8_особенности_удаленной_работы_с_хранилищем_конфигурации"><h3>30.4.8. Особенности удаленной работы с хранилищем конфигурации</h3></a>

<p class="MsoNormalCxSpFirst">При удаленной работе с хранилищем конфигурации не выполняется
автоматическое обновление состояния объектов в хранилище. Для обновления
информации об объектах, размещенных в хранилище, следует выполнить команду <span class="Interface">Действия – Обновить статусы</span>.</p>

<p class="MsoNormalCxSpLast">Активные пользователи, работающие с хранилищем конфигурации
удаленно, не выделяются жирным шрифтом в списке пользователей хранилища.</p>

<a id="TI000001136" class="bookmark" name="issogl1_30.5_рекомендации_по_использованию_хранилища"><h2>30.5. Рекомендации по использованию хранилища</h2></a>

<p class="MsoNormalCxSpFirst">Для обеспечения группы разработчиков информацией о
внесенных изменениях каждый разработчик одновременно с помещением в хранилище
измененных объектов конфигурации составляет описание внесенных изменений.</p>

<p class="MsoNormalCxSpMiddle">Чтобы описать изменения, нужно сформировать
текстовый отчет о сравнении рабочей конфигурации с конфигурацией хранилища
(только по помещаемым в хранилище объектам конфигурации) и поместить его в
доступное место.</p>

<p class="MsoNormalCxSpMiddle">Администратор хранилища периодически (период определяется
интенсивностью работы) должен производить архивирование хранилища и отчетов об
изменениях, внесенных разработчиками.</p>

<p class="MsoNormalCxSpMiddle">Не рекомендуется выполнять групповые операции с
хранилищем (получение объектов, помещение объектов и т. д.), а также
выполнять снятие конфигурации с поддержки при открытом окне сравнения
конфигураций.</p>

<p class="MsoNormalCxSpMiddle"> </p>

<br>		<script type="text/javascript">listenCopy('zeroclipboard.swf');</script>
	</body>
</html>