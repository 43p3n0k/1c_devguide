<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>&#1043;&#1083;&#1072;&#1074;&#1072; 19. &#1052;&#1077;&#1093;&#1072;&#1085;&#1080;&#1079;&#1084; &#1087;&#1086;&#1083;&#1085;&#1086;&#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1086;&#1075;&#1086; &#1087;&#1086;&#1080;&#1089;&#1082;&#1072; &#1074; &#1076;&#1072;&#1085;&#1085;&#1099;&#1093;</title>
		<LINK REL="stylesheet" href="/db/content/v8310doc/src/руководство разработчика/style.css?_=1496848987">
		<script charset="windows-1251" src="/db/content/v8310doc/src/руководство разработчика/script.js?_=1496848987" TYPE="text/javascript"></script>		<!--[if !IE]>--><script charset="windows-1251" src="/db/content/v8310doc/src/руководство разработчика/zeroclipboard.js?_=1496848987" TYPE="text/javascript"></script><!--<![endif]-->
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="/db/content/v8310doc/src/руководство разработчика/глава 19. механизм полнотекстового поиска в данных.htm" rel="canonical">
<link href="/static/its.content.css?_=1490872753" type="text/css" rel="stylesheet">
<script charset="windows-1251" type="text/javascript" src="/static/its.content.js?_=1489758009"></script>
<!--[if lt IE 9]><script charset="windows-1251" type="text/javascript" src="/static/html5shiv.js?_=1484636606"></script><![endif]-->

</head>
	<body class="v8310doc">
<a name="_ref237783535"></a><a name="_ref301192203"></a><a id="TI000000799" class="bookmark"><h1>Глава 19.  Механизм полнотекстового поиска в данных</h1></a>

<a name="_ref310422583"></a><a name="_ref310422582"></a><a name="_ref407378844"></a><a name="_ref407378843"></a><a id="TI000000800" class="bookmark" name="issogl1_19.1_общие_сведения"><h2>19.1. Общие сведения</h2></a>

<p class="MsoNormalCxSpFirst">Механизм полнотекстового поиска в данных системы
«1С:Предприятие» позволяет осуществлять поиск в базе данных с указанием
поисковых операторов (<span class="Term">И</span>,
<span class="Term">ИЛИ</span>,
<span class="Term">НЕ</span>,
<span class="Term">РЯДОМ</span>
и др.).</p>

<p class="MsoNormalCxSpLast">Механизм полнотекстового поиска основан на использовании
двух составляющих:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
полнотекстового индекса, который создается в
базе данных и затем периодически, по мере необходимости, обновляется;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
средств выполнения полнотекстового поиска.</p>

<p class="MsoNormal">Объектами полнотекстового поиска являются данные следующих
объектов конфигурации:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
планы обмена,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
справочники,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
документы,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
планы видов характеристик,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
планы счетов,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
планы видов расчета,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
регистры сведений,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
регистры накопления,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
регистры бухгалтерии,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
регистры расчета,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
бизнес-процессы,</p>

<p class="MsoListBulletCxSpLast">&#9679; 
задачи.</p>

<p class="MsoNormalCxSpFirst">Для каждого из перечисленных объектов конфигурации
реализовано свойство <span class="Interface">Полнотекстовый поиск</span>, которое
позволяет включать или исключать данные объекта в/из полнотекстового
индексирования.</p>

<p class="MsoNormalCxSpMiddle">Для фиксации изменений объектов полнотекстового поиска
система «1С:Предприятие» ведет журнал регистрации изменений. Запись в этот
журнал осуществляется в процессе записи объектов в базу данных. В файлы регистрации
изменений попадают только те объекты, которые настроены для полнотекстового
индексирования. Если в результате отката транзакции запись объекта в базу данных
будет отменена, то запись в журнале регистрации изменений останется.</p>

<p class="MsoNormalCxSpLast">Полнотекстовое индексирование выполняется в привилегированном
режиме (в контексте сервера) и не требует монопольного захвата базы данных. В
процессе полнотекстового индексирования выполняется чтение файлов регистрации
изменений и получение измененных объектов из базы данных, а также
транслитерация слов и замещение букв в словах, введенных латиницей, на кириллицу
(при этом индекс хранит обе формы слова). Индексированию подлежат только реквизиты
следующих типов:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
строка,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
дата,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
число,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
ссылочные типы,</p>

<p class="MsoListBulletCxSpLast">&#9679; 
хранилище значения.</p>

<p class="MsoNormal">Для каждого объекта и реквизита в полнотекстовый индекс добавляется:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
имя объекта метаданных или его реквизита;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
синоним объекта метаданных или его реквизита (на
всех языках конфигурации);</p>

<p class="MsoListBulletCxSpLast">&#9679; 
представление объекта метаданных (на всех языках
конфигурации).</p>

<p class="MsoNormal">Стандартные и пользовательские реквизиты индексируются на
всех языках, что позволяет проводить поиск на всех языках конфигурации
(например, русский и английский).</p>

<p class="Note"><span class="Note">Примечание.</span> При полнотекстовом
индексировании и поиске слова с буквой «ё» буквы «ё» заменяются на «е».</p>

<p class="MsoNormalCxSpFirst">О расположении файлов индекса полнотекстового
поиска можно прочитать в статье на диске ИТС (<a href="/db/metod8dev/content/1591/hdoc" target="_top">http://its.1c.ru/db/metod8dev#content:1591:hdoc</a>).</p>

<p class="MsoNormalCxSpMiddle">В результате полнотекстового индексирования
создается основной индекс, а в ходе последующего изменения данных базы данных –
дополнительный, который содержит информацию по данным, измененным после
последнего обновления основного индекса.</p>

<p class="MsoNormalCxSpMiddle">Поиск по основному индексу выполняется эффективно,
в то время как поиск по дополнительному индексу выполняется медленнее. Поэтому
в процессе индексирования предусмотрена возможность слияния индексов, которая
позволяет добавить результат последних изменений данных к основному индексу.
При этом следует учитывать, что эта операция может оказаться довольно длительной
(если размер основного индекса большой), поэтому рекомендуется выполнять ее в
периоды минимальной нагрузки на систему (в ночное время или по выходным).</p>

<p class="MsoNormalCxSpMiddle">Полнотекстовый поиск инициируется пользователем в
контексте клиентского приложения, а выполняется в контексте сервера. Это
означает, что в файловом варианте работы поиск будет выполняться на клиентском
компьютере, а в клиент-серверном – в кластере серверов системы «1С:Предприятие».</p>

<p class="MsoNormalCxSpMiddle">Полнотекстовый поиск в данных осуществляется в соответствии
с правами пользователя (в том числе и в соответствии с ограничениями прав
доступа на уровне записей и полей базы данных). При этом поиск можно вести и по
словам, которые были введены в базу данных с ошибками: например, если в слове
вместо русской «с» стоит английская «c», если при наборе слова была нечаянно
сменена раскладка клавиатуры и в результате слово приняло вид, например,
«системf» вместо «система», эти слова все равно попадут в результат поиска.
Также следует помнить, что механизм полнотекстового поиска в данных
осуществляется всегда с начала слова.</p>

<p class="MsoNormalCxSpMiddle">Результаты поиска возвращаются частями, размер которых
определяется при выполнении команды полнотекстового поиска.</p>

<p class="MsoNormalCxSpLast">Ранжирование полученных результатов осуществляется в
порядке следующих приоритетов:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
«вес» объекта метаданных: чем больше ссылок на
этот объект в реквизитах других объектов, тем выше его «вес»;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
дата объекта (более новые объекты будут
находиться в начале).</p>

<a name="_ref437356276"></a><a name="_ref437356275"></a><a id="TI000000801" class="bookmark" name="issogl1_19.2_использование_механизма"><h2>19.2. Использование механизма</h2></a>

<p class="MsoNormalCxSpFirst">Полнотекстовый поиск в данных осуществляется средствами
встроенного языка.</p>

<p class="MsoNormalCxSpMiddle">Свойство глобального контекста <span class="Term">ПолнотекстовыйПоиск</span>
возвращает менеджер полнотекстового поиска – объекта типа <span class="Term">МенеджерПолнотекстовогоПоиска</span>.</p>

<p class="MsoNormalCxSpLast">Методы менеджера полнотекстового поиска позволяют:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
получить информацию о состоянии полнотекстового
индекса;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
выполнить полнотекстовое индексирование;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
инициировать процесс выполнения полнотекстового
поиска в данных.</p>

<p class="MsoNormal">Для получения информации о состоянии полнотекстового индекса
предназначены следующие методы:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Term">ПолучитьРежимПолнотекстовогоПоиска()</span> – возвращает
значение <span class="Term">Истина</span>,
если использование полнотекстового поиска разрешено, или <span class="Term">Ложь</span> – в
противном случае.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Term">ДатаАктуальности()</span> – дата последнего
момента, когда были проиндексированы все данные и не было информации о новых
объектах для индексирования.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Term">ИндексАктуален()</span> – возвращает значение <span class="Term">Истина</span>,
если индекс полнотекстового поиска полностью соответствует текущему состоянию
информационной базы.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Term">ОбновлениеИндексаЗавершено()</span> – возвращает
значение <span class="Term">Истина</span>,
если слияние полнотекстового индекса не требуется.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Term">УстановитьМаксимальныйРазмерИндексируемыхДанных()</span> –
позволяет установить максимальный размер (в байтах) данных, индексируемых полнотекстовым
поиском. До первого вызова данного метода максимальный размер индексируемых
данных равен 1 Мбайту.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Term">ПолучитьМаксимальныйРазмерИндексируемыхДанных()</span> –
возвращает максимальный размер данных (в байтах) который индексируется
полнотекстовым поиском.</p>

<p class="MsoNormal">Для выполнения полнотекстового индексирования предназначены
следующие методы:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Term">УстановитьРежимПолнотекстовогоПоиска()</span> – устанавливает
режим полнотекстового поиска (<span class="Term">Разрешить</span> или <span class="Term">Запретить</span>). Если
поиск был запрещен, то вызов этого метода с параметром <span class="Term">Истина</span> автоматически
очищает имеющийся полнотекстовый индекс.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Term">ОбновитьИндекс()</span> – обновляет индекс
полнотекстового поиска. Если индексы отсутствовали, выполняет полную переиндексацию
всей базы данных. В параметрах метода передаются условия индексирования:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
<span class="Term">РазрешитьСлияние</span> – если передается
значение <span class="Term">Истина</span>,
будет выполнено слияние основного и дополнительного индексов.</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
<span class="Term">Порционное</span> – значение <span class="Term">Истина</span> указывает,
что индексирование будет выполняться порциями из 10 тысяч объектов. После
индексирования данных одной порции процесс завершается. Время индексирования
одной порции сильно зависит от данных.</p>

<p class="MsoListBullet">&#9679; 
<span class="Term">ОчиститьИндекс()</span> – удаляет все файлы
полнотекстового индекса. Этот метод рекомендуется использовать в тех случаях,
когда данные были полностью или почти полностью обновлены (например, при выполнении
загрузки информационной базы). После очистки индекса нужно выполнить
индексирование (если требуется).</p>

<p class="MsoNormal">Инициирование процесса полнотекстового поиска в данных
выполняется с помощью метода <span class="Term">СоздатьСписок()</span>. В метод передаются два
параметра:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Term">СтрокаПоиска</span> – строка, содержащая
поисковое выражение;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Term">РазмерПорции</span> – число, задающее количество
объектов, которые будут возвращены в одной части полнотекстового поиска.</p>

<p class="MsoNormalCxSpFirst">Описание синтаксиса поисковых выражений см. <a href="#_ref215401630">здесь</a>.</p>

<p class="MsoNormalCxSpMiddle">Метод <span class="Term">СоздатьСписок()</span> возвращает объект <span class="Term">СписокПолнотекстовогоПоиска</span>,
который позволяет выполнять полнотекстовый поиск и получать результаты
полнотекстового поиска. Этот объект может быть использован многократно для
выполнения поиска с различными условиями. Свойства объекта <span class="Term">СтрокаПоиска</span> и <span class="Term">РазмерПорции</span>
позволяют изменять используемое поисковое выражение и размер порции получаемых
данных.</p>

<p class="MsoNormalCxSpMiddle">Для выполнения полнотекстового поиска и получения
«первых» результатов используется метод <span class="Term">ПерваяЧасть()</span>, который
заполняет список первыми найденными элементами, в соответствии с размером порции.
Для получения последующих результатов полнотекстового поиска используются
методы <span class="Term">СледующаяЧасть()</span>
и <span class="Term">ПредыдущаяЧасть()</span>,
которые могут принимать в качестве параметра текущую начальную позицию и
заполняют список полнотекстового поиска результатами поиска. Если параметр <span class="Term">ТекущаяНачальнаяПозиция</span>
не указан, то используется имеющееся у объекта <span class="Term">СписокПолнотекстовогоПоиска</span>
значение начальной позиции, которое, например, можно получить с помощью метода <span class="Term">НачальнаяПозиция()</span>.
Использование параметра предпочтительнее, т. к. повышает скорость
работы полнотекстового поиска.</p>

<p class="MsoNormalCxSpMiddle">Метод <span class="Term">Количество()</span> содержит количество элементов в
текущей части (для последней части оно будет меньше либо равно размеру порции),
а метод <span class="Term">ПолноеКоличество()</span>
содержит полное количество элементов, найденных в результате полнотекстового поиска.</p>

<p class="MsoNormalCxSpMiddle">Метод <span class="Term">СледующаяЧасть()</span> заполняет список следующими
элементами в соответствии со значением размера порции. При этом текущая позиция
увеличивается на количество данных, содержащихся в полученной части. Если
данных для получения очередной порции нет (достигнут конец данных), будет
вызвано исключение, которое может быть обработано конструкцией <span class="Term">Попытка …
Исключение … КонецПопытки</span>.</p>

<p class="MsoNormalCxSpMiddle">Метод <span class="Term">ПредыдущаяЧасть()</span> заполняет список предыдущими
найденными элементами в соответствии с размером порции. Если данных для
получения очередной порции нет (достигнуто начало данных), будет вызвано исключение,
которое может быть обработано конструкцией <span class="Term">Попытка … Исключение … КонецПопытки</span>.</p>

<p class="MsoNormalCxSpMiddle">Метод <span class="Term">СлишкомМногоРезультатов()</span> возвращает значение <span class="Term">Истина,</span>
если во время поиска, по соображениям производительности, было произведено
усечение количества результатов, что может сказаться на точности поиска (не все
объекты будут найдены). Анализ значения, возвращаемого этим методом, имеет
смысл выполнять при получении последней порции найденных данных для информирования
пользователя о том, что получены не все результаты, которые содержатся в базе
данных.</p>

<p class="MsoNormalCxSpMiddle">Свойство <span class="Term">ПолучатьОписание</span> содержит признак получения
описания для результатов поиска. Если он установлен в значение <span class="Term">Истина</span>,
то для каждого из результатов поиска будет заполнено значение <span class="Term">Описание</span>,
помогающее понять контекст найденных слов. В то же время установка этого
свойства в значение <span class="Term">Ложь</span>
ускоряет поиск.</p>

<p class="MsoNormalCxSpMiddle">Список полнотекстового поиска представляет собой
коллекцию элементов списка полнотекстового поиска, которую можно обойти с
помощью оператора <span class="Term">Для
Каждого … Из … Цикл</span>.</p>

<p class="MsoNormalCxSpLast">Каждый элемент списка полнотекстового поиска представляется
объектом <span class="Term">ЭлементСпискаПолнотекстовогоПоиска</span>
и содержит следующие свойства:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Term">Значение</span> – идентифицирует данные (объект
или набор записей), в которых найдено поисковое выражение;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Term">Метаданные</span> – объект метаданных,
описывающий те данные, в которых найдено поисковое выражение;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Term">Представление</span> – текстовое представление
найденного объекта;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Term">Описание</span> – содержит (с новой строки) пары
<span class="Term">&lt;реквизит&gt;:&lt;значение&gt;</span>,
где:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
<span class="Term">&lt;реквизит&gt;</span> – реквизит объекта, в
значении которого найдено выражение поиска;</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
<span class="Term">&lt;значение&gt;</span> – значение этого
реквизита.</p>

<p class="MsoNormal"><a name="_ref149029553">Результат поиска с помощью метода </a><span class="Term">ПолучитьОтображение()</span> можно представить в виде
объекта <span class="Term">ЧтениеXML</span> или в
виде строки с текстом в формате HTML, в котором средствами HTML найденные слова
подсвечены (жирный шрифт и цвет фона).</p>

<a name="_ref407617629"></a><a name="_ref407617628"></a><a id="TI000000802" class="bookmark" name="issogl1_19.3_использование_дополнительных_словарей"><h2>19.3. Использование дополнительных словарей</h2></a>

<p class="MsoNormalCxSpFirst">Дополнительные словари морфологии и синонимов для
полнотекстового поиска расширяют системные словари и могут содержать в себе
особые термины и слова, которые используются при работе с конфигурацией.</p>

<p class="MsoNormalCxSpMiddle">В качестве дополнительных словарей могут выступать
макеты из двоичных данных и текстовые макеты, а также константы строкового типа
и типа <span class="Term">ХранилищеЗначения</span>.
Указание дополнительных словарей выполняется в свойстве <span class="Interface">Дополнительные
словари</span> корневого объекта метаданных.</p>

<p class="MsoNormalCxSpLast">При этом они должны иметь следующее содержание:</p>

<a class="copy_source" href="#_top" onClick="return false">Копировать в буфер обмена</a>
<pre class="src_res">
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;Dictionary&gt;
    &lt;Words&gt;
        &lt;lemma&gt;рунет&lt;/lemma&gt;&lt;forms&gt;рунета рунете рунетом&lt;/forms&gt;
        &lt;lemma&gt;Ванесса&lt;/lemma&gt;&lt;forms&gt;Ванессе Ванессы Ванессу&lt;/forms&gt;
    &lt;/Words&gt;
    &lt;Synonyms&gt;
        &lt;item&gt;ошибка баг сбой&lt;/item&gt;
        &lt;item&gt;стрим поток&lt;/item&gt;
    &lt;/Synonyms&gt;
&lt;/Dictionary&gt;
</pre>

<p class="Lang-parameter">Элемент Dictionary</p>

<p class="MsoNormal">Предназначен для хранения собственно словаря. Словарь может
содержать две секции:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
дополнительные слова (леммы) и их формы;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
ряды синонимов.</p>

<p class="Lang-parameter">Элемент Words</p>

<p class="MsoNormal">Содержит слова в следующем виде:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
в элементе <span class="Term">lemma</span> слово
хранится в его основной форме (именительном падеже);</p>

<p class="MsoListBulletCxSpLast">&#9679; 
в элементе <span class="Term">forms</span> содержатся
падежные формы слова.</p>

<p class="MsoNormal">По умолчанию нечеткий поиск не производится. Для того чтобы
выполнить нечеткий поиск, следует использовать оператор «<span class="Interface">*</span>».
Пример: поиск <span class="Interface">руне*</span> найдет и <span class="Interface">рунет</span>, и <span class="Interface">рунета</span>, и <span class="Interface">рунете</span>, и <span class="Interface">рунетом</span>.</p>

<p class="Lang-parameter">Элемент Synonyms</p>

<p class="MsoNormalCxSpFirst">Хранятся наборы синонимов. Каждый набор заключается
в теги <span class="Term">item</span>.</p>

<p class="MsoNormalCxSpMiddle">Для того чтобы синонимы участвовали в полнотекстовом
поиске, следует использовать оператор «<span class="Interface">!</span>». При
этом поиск <span class="Interface">!ошибка</span> найдет и <span class="Interface">ошибка</span>,
и <span class="Interface">баг</span>, и <span class="Interface">сбой</span>. Описание
синтаксиса поисковых выражений см. <A href="/db/content/v8310doc/src/руководство разработчика/приложение 5. поисковые выражения полнотекстового поиска.htm?_=1496848987#_ref300244230">здесь</a>.</p>

<p class="MsoNormalCxSpMiddle">Элементы <span class="Term">Synonyms</span> и <span class="Term">Words</span> могут идти в
произвольном порядке.</p>

<p class="MsoNormalCxSpMiddle">Словари загружаются системой при первом вызове поиска
или индексировании. Если в макете содержатся ошибки, то заполнение словарей
будет остановлено на месте ошибки.</p>

<p class="MsoNormalCxSpLast">В случае изменения дополнительного словаря,
необходимо выполнить перезапуск системы, чтобы новый словарь был подключен
системой. В зависимости от варианта системы, перезапущены должны быть разные
компоненты:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
файловый вариант информационной базы с прямым
подключением – необходимо перезапустить все клиентские приложения,
подключенные к информационной базе;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
файловый вариант с подключением через веб-сервер –
необходимо перезапустить расширение веб-сервера (фактически перезапуска требует
веб-сервер);</p>

<p class="MsoListBulletCxSpLast">&#9679; 
клиент-серверный вариант (с любым видом
подключения) – необходимо перезапустить сервер «1С:Предприятия».</p>

<p class="MsoNormal">При этом индекс автоматически не обновляется, и нужно
перестроить индекс вручную, хотя при поиске используются новые словари.</p>

<a name="_ref400108144"></a><a id="TI000001488" class="bookmark" name="issogl1_19.4_мобильная_платформа"><h2>19.4. Мобильная платформа</h2></a>

<p class="MsoNormalCxSpFirst">Полнотекстовый поиск на мобильной платформе имеет
некоторые особенности и ограничения.</p>

<p class="MsoNormalCxSpLast">Полнотекстовый поиск не поддерживает:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
Поиск с учетом морфологии.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
Подключение дополнительных словарей.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
Операцию извлечения текста (объект <span class="Term">ИзвлечениеТекст</span>).</p>

<p class="MsoNormal">При использовании полнотекстового поиска на мобильной
платформе следует помнить о следующих особенностях:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
Обновление индекса полнотекстового поиска
выполняется автоматически, после создания или изменения объекта конфигурации,
для которых установлено использование полнотекстового поиска.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
Для обновления индекса полнотекстового поиска
создается специальное фоновое задание. Фоновое задание создается в том случае,
если не выполняется серверный вызов и не выполняется другое фоновое задание.
Обновление выполняется порциями по 10 000 объектов.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
В том случае, если все объекты в информационной
базе проиндексированы, то мобильная платформа запускает слияние индексов по
истечении 20 секунд бездействия.</p>

<p class="MsoNormalCxSpFirst">Если требуется гарантированно выполнить
индексирование данных, например, после синхронизации информационной базы с
информационной базой на персональном компьютере, то следует явным образом
выполнить обновление индекса полнотекстового поиска с помощью метода <span class="Term">ОбновитьИндекс(Истина,
Ложь)</span> менеджера полнотекстового поиска.</p>

<p class="MsoNormalCxSpMiddle"> </p>

<br>		<script type="text/javascript">listenCopy('zeroclipboard.swf');</script>
	</body>
</html>