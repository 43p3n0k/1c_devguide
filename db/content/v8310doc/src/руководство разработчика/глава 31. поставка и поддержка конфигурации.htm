<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=Windows-1251">
		<title>&#1043;&#1083;&#1072;&#1074;&#1072; 31. &#1055;&#1086;&#1089;&#1090;&#1072;&#1074;&#1082;&#1072; &#1080; &#1087;&#1086;&#1076;&#1076;&#1077;&#1088;&#1078;&#1082;&#1072; &#1082;&#1086;&#1085;&#1092;&#1080;&#1075;&#1091;&#1088;&#1072;&#1094;&#1080;&#1080;</title>
		<LINK REL="stylesheet" href="/db/content/v8310doc/src/руководство разработчика/style.css?_=1496848987">
		<script charset="windows-1251" src="/db/content/v8310doc/src/руководство разработчика/script.js?_=1496848987" TYPE="text/javascript"></script>
	<meta name="robots" content="noarchive">
<meta name="googlebot" content="noarchive">
<link href="/db/content/v8310doc/src/руководство разработчика/глава 31. поставка и поддержка конфигурации.htm" rel="canonical">
<link href="/static/its.content.css?_=1490872753" type="text/css" rel="stylesheet">
<script charset="windows-1251" type="text/javascript" src="/static/its.content.js?_=1489758009"></script>
<!--[if lt IE 9]><script charset="windows-1251" type="text/javascript" src="/static/html5shiv.js?_=1484636606"></script><![endif]-->

</head>
	<body class="v8310doc">
<a name="_ref217357733"></a><a name="_ref335321586"></a><a name="_ref237783599"></a><a id="TI000001137" class="bookmark"><h1>Глава 31.  Поставка и поддержка конфигурации</h1></a>

<a name="_ref427583962"></a><a id="TI000001512" class="bookmark" name="issogl1_31.1_общая_информация"><h2>31.1. Общая информация</h2></a>

<p class="MsoNormalCxSpFirst">Типовые конфигурации регулярно меняются. Это может
быть связано с изменением законодательства, добавлением новых функциональных
возможностей или внесением исправлений. Поэтому большое значение для пользователей
типовых конфигураций представляет механизм поддержки этих конфигураций.</p>

<p class="MsoNormalCxSpMiddle">Для описания механизмов поддержки используются термины
«поставка» и «поддержка конфигурации», а также «комплект поставки».</p>

<p class="MsoNormalCxSpMiddle"><span class="Bold">Поставка</span>. Различают полную
поставку и поставку обновлений. Полная поставка представляет файл конфигурации
формата <span class="Interface">*.cf</span>, сформированный специальным образом.
Поставка обновлений представляет файл обновлений формата <span class="Interface">*.cfu</span>.</p>

<p class="MsoNormalCxSpMiddle"><span class="Bold">Поддержка</span>. Поддержка
конфигурации заключается в способности конфигурации быть обновляемой средствами
конфигуратора с использованием файлов поставки. Назначение механизма поддержки –
в защите логической целостности конфигурации. В описании также применяется
термин «конфигурация, находящаяся на поддержке».</p>

<p class="MsoNormalCxSpMiddle"><span class="Bold">Комплект поставки</span>.
Комплект поставки представляет собой дистрибутив, в состав которого входит
программа установки <span class="Interface">setup.exe</span> и файлы поставки,
сжатые в файл-архив <span class="Interface">1cv8.efd</span>. Язык получаемого
дистрибутива соответствует языку конфигуратора (локализованные ресурсы
дистрибутива находятся в каталоге дистрибутива, в подкаталоге с именем,
соответствующим имени языка).</p>

<p class="MsoNormalCxSpLast">Конфигуратор позволяет разработчикам типовых конфигураций
осуществлять поставки не только новых версий конфигураций, но и установить
режим поддержки этих конфигураций с учетом произведенных изменений в пользовательских
конфигурациях.</p>

<a name="_ref38945612"></a><a name="_ref38945608"></a><a id="TI000001138" class="bookmark" name="issogl1_31.2_поставка_конфигурации"><h2>31.2. Поставка конфигурации</h2></a>

<a name="_ref286774623"></a><a id="TI000001139" class="bookmark" name="issogl2_31.2.1_настройка_поставки"><h3>31.2.1. Настройка поставки</h3></a>

<p class="MsoNormal">Настройка поставки заключается в указании правил поставщика
на изменение объектов конфигурации разработчиками, осуществляющими поддержку
конфигураций конечных пользователей.</p>

<p class="Regularbeforepicture">Для настройки прав нужно выбрать пункт <span class="Interface">Конфигурация – Поставка конфигураций – Настройка
поставки</span>. Открывается диалог настройки поставки.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00643.gif?_=1496848987" WIDTH="676" ALT HEIGHT="428"></p>

<p class="MsoCaption">Рис. 637. Настройка поставки</p>

<p class="MsoNormal">В иерархическом списке объектов конфигурации доступны только
объекты первого уровня.</p>

<p class="Regularbeforepicture">По каждому объекту следует указать правило
изменения. Для этого нужно указать объект и нажать кнопку <span class="Interface">Изменить</span>, а для изменения правил для группы объектов –
выбрать группу и нажать кнопку <span class="Interface">Изменить подчиненные</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00644.gif?_=1496848987" WIDTH="402" ALT HEIGHT="204"></p>

<p class="MsoCaption">Рис. 638. Настройка правил поставщика</p>

<p class="MsoNormalCxSpFirst">В дереве объектов допускается множественный выбор.
В этом случае настройка выполняется для выбранных объектов.</p>

<p class="MsoNormalCxSpLast">Допускается указание следующих правил:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">Изменения разрешены</span> –
допускается любое изменение в пользовательской конфигурации.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Изменения не рекомендуются</span> –
изменения в пользовательской конфигурации не рекомендуются.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Изменения запрещены</span> –
изменения полностью запрещены. Данное право не позволяет изменять объекты,
находящиеся на поддержке. Объект с таким правилом нельзя снять с поддержки. Для
изменения такого объекта нужно снимать с поддержки всю конфигурацию.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">Включение в конфигурацию
не рекомендуется</span> – при постановке на поддержку путем объединения с
конфигурацией поставщика или при обновлении новой версией конфигурации
поставщика объект с таким правилом по умолчанию не предлагается к включению в
пользовательскую конфигурацию.</p>

<p class="MsoNormalCxSpFirst">По умолчанию конфигуратор устанавливает правило <span class="Interface">Изменения разрешены</span>.</p>

<p class="MsoNormalCxSpLast">Если в поставку включается только скомпилированный
текст модуля, нужно снять флажок <span class="Interface">Включать в поставку
исходный текст модулей объекта</span>. В этом случае функциональность не
нарушается, но текст модуля недоступен для просмотра. Не поддерживается
исключение исходных текстов для следующих модулей:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
модуль управляемого приложения;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
модули форм;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
модули команд;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
модули, включающие директивы препроцессора;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
клиентские общие модули, работающие в
управляемом режиме (тонкий клиент, веб-клиент и управляемый режим толстого
клиента).</p>

<p class="Note"><span class="Note">Примечание.</span> Если флажок <span class="Interface">Включать в поставку исходный текст модулей объекта</span> снят
для корневого элемента конфигурации, то без исходных текстов будут поставляться
модули обычного приложения, внешнего соединения и сеанса.</p>

<p class="MsoNormalCxSpFirst">Для настройки файла поставки флажок <span class="Interface">Файл поставки может использоваться для обновления</span>
следует установить, если файл поставки предназначается для обычного обновления
конфигурации. Снять флажок нужно в том случае, когда предполагается
использовать полученный файл поставки как промежуточный, когда требуется
произвести ряд последовательных обновлений.</p>

<p class="MsoNormalCxSpMiddle">Например, смена типа реквизита при обычной технологии
может привести к потерям введенных данных пользователей. Поэтому часто
используют промежуточную версию, в которой вводят новый реквизит с нужным типом,
а прежний реквизит остается. Обычно подготавливается только файл обновления.
Специальная обработка выполняет преобразование данных. Затем используют следующую
версию конфигурации, в которой имя вспомогательного реквизита, имеющего нужный
тип, заменяется прежним. Назначение второй версии – только в выполнении
переходной функции, поэтому его нельзя использовать как отдельное обновление.</p>

<p class="MsoNormalCxSpLast">После указания прав нужно нажать кнопку <span class="Interface">Закрыть</span>.</p>

<a name="_ref347331665"></a><a name="_ref347331664"></a><a id="TI000001140" class="bookmark" name="issogl2_31.2.2_создание_файлов_поставки"><h3>31.2.2. Создание файлов поставки</h3></a>

<p class="MsoNormalCxSpFirst">Для создания файлов поставки и обновлений следует
выбрать пункт <span class="Interface">Конфигурация – Поставка
конфигурации – Создать файлы поставки и обновления конфигурации</span>.</p>

<p class="MsoNormalCxSpMiddle">Предварительно в категории свойств <span class="Interface">Разработка</span> должны быть указаны свойства <span class="Interface">Поставщик</span> и <span class="Interface">Версия</span>.</p>

<p class="MsoNormalCxSpMiddle"><span class="Interface">Поставщик</span> – наименование
поставщика конфигурации.</p>

<p class="MsoNormalCxSpLast"><span class="Interface">Версия</span> – версия
конфигурации (строка).</p>

<p class="Note"><span class="Note">Совет.</span> Рекомендуемая структура
номера версии:<span class="Interface">
&lt;версия&gt;.&lt;подверсия&gt;.&lt;релиз&gt;.&lt;сборка&gt;</span>, где
элементы структуры представляют собой десятичные числа. Такая структура
упрощает идентификацию версии конфигурации при последовательной разработке и
построении файлов (комплектов) поставки.</p>

<p class="MsoNormalCxSpFirst">В списке шаблонов и обновлений конфигураций конфигурации
сортируются по номерам версий с учетом структуры номера.</p>

<p class="MsoNormalCxSpLast">Если конфигурация или база данных модифицирована, то
конфигуратор просит произвести сохранение конфигурации и обновить конфигурацию
базы данных.</p>

<p class="Regularbeforepicture">На экран выводится окно формирования поставки (см. <a href="#_ref215405196">рис.639</a>).</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00645.gif?_=1496848987" WIDTH="570" ALT HEIGHT="410"></p>

<p class="MsoCaption"><a name="_ref215405196">Рис. </a>639. Формирование поставки</p>

<p class="MsoNormalCxSpFirst">По кнопке <span class="Interface">Каталог файлов
поставки</span> формируется каталог, который будет использован для создания
каталогов поставки новых версий. Имя каталога версии совпадает с номером версии.</p>

<p class="MsoNormalCxSpMiddle">Для создания файла поставки нужно установить
флажок <span class="Interface">Создать файл поставки</span>. В поле задания имени
по умолчанию будет предложено имя файла поставки.</p>

<p class="MsoNormalCxSpMiddle">Для создания файла обновления установить флажок <span class="Interface">Создать файл обновления конфигурации</span>. В поле задания
имени по умолчанию будет предложено имя файла обновления.</p>

<p class="MsoNormalCxSpMiddle">Если флажок <span class="Interface">Создать файл
обновления конфигурации</span> установлен, то требуется включить в файл
обновления прежние обновления. Для этого нужно выполнить команду <span class="Interface">Добавить из предыдущих версий</span> и выбрать файлы поставки
прежних версий.</p>

<p class="MsoNormalCxSpMiddle">Для формирования указанных файлов нужно нажать
кнопку <span class="Interface">Выполнить</span>.</p>

<p class="MsoNormalCxSpMiddle">Комплект поставки, сформированный в ОС Windows,
будет не полностью работоспособен в ОС Linux, т. к. файловая система ОС
Windows не позволяет выставить атрибут <span class="Interface">Выполнение</span>
(<span class="Interface">X</span>) у файла <span class="Interface">setup</span>, который
предназначен для работы в ОС Linux. Поэтому для того, чтобы иметь возможность запуска
приложения <span class="Interface">setup</span>, нужно установить этот атрибут для файла <span class="Interface">setup</span>
после копирования установочного комплекта на компьютер ОС Linux или при
создании образа установочного диска. Установку атрибута исполнения необходимо
выполнять из ОС Linux. Установочная программа для ОС Linux (<span class="Interface">setup</span>)
может исполняться как в среде 32-разрядной версии ОС, так и в среде 64-разрядной
версии.</p>

<p class="MsoNormalCxSpMiddle">Текстовые файлы комплекта поставки нужно
подготавливать в кодировке UTF-8.</p>

<p class="MsoNormalCxSpLast">Полученные файлы передаются разработчикам, осуществляющим
поддержку конфигураций конечных пользователей.</p>

<a id="TI000001141" class="bookmark" name="issogl2_31.2.3_подготовка_комплекта_поставки_тиражных_конфигураций"><h3>31.2.3. Подготовка комплекта поставки тиражных конфигураций</h3></a>

<p class="MsoNormal">Для создания комплекта поставки сначала необходимо сформировать
описание комплекта (хранится в файле), а затем в соответствии с этим описанием
создать комплект поставки.</p>

<a name="_ref73967700"></a><a id="TI000001142" class="bookmark" name="issogl3_31.2.3.1_описание_комплекта_поставки"><h4>31.2.3.1. Описание комплекта поставки</h4></a>

<p class="MsoNormal">Для формирования описания комплекта поставки нужно выбрать
пункт <span class="Interface">Конфигурация – Поставка конфигурации – Комплект
поставки</span>.</p>

<p class="Regularbeforepicture">На экран выводится диалог (см. <a href="#_ref215405344">рис.640</a>).</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00646.gif?_=1496848987" WIDTH="404" ALT HEIGHT="146"></p>

<p class="MsoCaption"><a name="_ref215405344">Рис. </a>640. Выбор описания комплекта поставки</p>

<p class="MsoNormalCxSpFirst">В диалоге выбрать режим работы с описанием.</p>

<p class="MsoNormalCxSpMiddle">Затем установить переключатель <span class="Interface">Открыть описание комплекта поставки</span>, если требуется
внести изменения в имеющееся описание. Файл описания указывается в поле ввода.</p>

<p class="MsoNormalCxSpLast">Для создания нового описания следует установить
переключатель <span class="Interface">Создать новое описание</span>.</p>

<a id="TI000001143" class="bookmark" name="issogl4_31.2.3.1.1_создание_нового_описания_комплекта_поставки"><h5>31.2.3.1.1. Создание нового описания комплекта поставки</h5></a>

<p class="Regularbeforepicture">На экран выводится окно помощника создания описания.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00647.gif?_=1496848987" WIDTH="404" ALT HEIGHT="278"></p>

<p class="MsoCaption">Рис. 641. Помощник создания комплекта
поставки</p>

<p class="MsoNormal">Нужно указать наименование комплекта поставки и поставщика. Нажать
кнопку <span class="Interface">Далее &gt;</span>.</p>

<p class="Regularbeforepicture">На следующем шаге указываются параметры шаблона.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00648.gif?_=1496848987" WIDTH="404" ALT HEIGHT="278"></p>

<p class="MsoCaption">Рис. 642. Создание описания комплекта
поставки</p>

<p class="MsoNormalCxSpFirst">По умолчанию (установлен флажок <span class="Interface">Определять параметры по текущей конфигурации</span>) параметры
выбираются из соответствующих свойств конфигурации. Если флажок не установлен,
эти параметры можно изменить.</p>

<p class="MsoNormalCxSpMiddle">В параметре <span class="Interface">Путь</span>
указывается каталог, в котором будет создан файл-манифест.</p>

<p class="MsoNormalCxSpLast">Параметры шаблона записываются в файл манифеста,
который входит в комплект поставки. О структуре файла-манифеста см. <a href="/db/v8310doc/bookmark/adm/TI000000367" target="_top">здесь</a>.</p>

<p class="Regularbeforepicture">На следующем шаге указываются параметры шаблона.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00649.gif?_=1496848987" WIDTH="404" ALT HEIGHT="278"></p>

<p class="MsoCaption">Рис. 643. Задание параметров шаблонов</p>

<p class="MsoNormalCxSpFirst">Следует отметить файлы шаблона, которые должны
войти в описание комплекта поставки. Для дополнительных файлов, включаемых в
комплект, указать каталог их расположения. Все файлы этого каталога, в том
числе и подкаталоги, будут включены в описание комплекта поставки.</p>

<p class="MsoNormalCxSpLast">Для создания описания нажать кнопку <span class="Interface">Готово</span>. На экран выводится окно редактирования описания
комплекта поставки.</p>

<a id="TI000001144" class="bookmark" name="issogl4_31.2.3.1.2_редактирование_описания_комплекта_поставки"><h5>31.2.3.1.2. Редактирование описания комплекта поставки</h5></a>

<p class="Regularbeforepicture">Окно редактирования описания комплекта поставки открывается
после создания описания (см. раздел выше) или при выборе режима
редактирования (см. <a href="#_ref73967700">здесь</a>).</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00650.gif?_=1496848987" WIDTH="464" ALT HEIGHT="342"></p>

<p class="MsoCaption">Рис. 644. Редактор описания комплекта
поставки</p>

<p class="MsoNormalCxSpFirst">В окне редактирования описания поставки выполняется
настройка для создания комплекта поставки.</p>

<p class="MsoNormalCxSpLast">Описание представляет собой дерево, состоящее из четырех
основных ветвей:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
шаблоны конфигураций,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
варианты поставки,</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
базовые каталоги,</p>

<p class="MsoListBulletCxSpLast">&#9679; 
языки.</p>

<p class="MsoNormal">По любой ветке возможно добавление новых данных, удаление
ненужных и изменение существующих свойств. Все действия по составу выполняются
с помощью команд меню <span class="Interface">Действие</span>. Редактирование
свойств производится в палитре свойств.</p>

<p class="Lang">Шаблоны конфигураций</p>

<p class="MsoNormalCxSpFirst">Шаблоны конфигураций представляют собой основные элементы
комплекта поставки. В состав шаблонов конфигураций входят файлы и группы файлов.</p>

<p class="MsoNormalCxSpMiddle">Файлы могут быть как произвольными (или наборами
файлов, определяемыми по маске), так и файлами конфигурации или выгрузки
данных, получаемыми из текущей информационной базы.</p>

<p class="MsoNormalCxSpMiddle">Каждый шаблон имеет свое размещение в каталоге шаблонов.
Соответственно, файлы и группы файлов размещаются в каталоге шаблонов, исходя
из адреса файла-манифеста (группы файлов представляют при этом подкаталоги).</p>

<p class="MsoNormalCxSpLast">В файл-манифест включаются только файлы конфигурации
и выгрузки данных. Остальные файлы просто размещаются в каталоге шаблона
конфигурации.</p>

<p class="Lang">Шаблоны</p>

<p class="MsoNormalCxSpFirst">Для настройки свойств шаблона нужно выбрать шаблон
и указать его свойства.</p>

<p class="MsoNormalCxSpLast"><span class="Interface">Текущая конфигурация</span> –
если флажок установлен, то данные (поставщик, имя, версия) выбираются из текущей
информационной базы. Если флажок снят, то допускается редактирование этих
свойств:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">Поставщик</span> – поставщик
конфигурации (соответствует свойству конфигурации <span class="Interface">Поставщик</span>);</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Имя</span> – имя
конфигурации (соответствует свойству конфигурации <span class="Interface">Имя</span>);</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Версия</span> – версия
конфигурации (соответствует свойству конфигурации <span class="Interface">Версия</span>);</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">Размещение манифеста</span> –
относительный путь к файлу-манифесту шаблона в каталоге шаблонов.</p>

<p class="Lang">Файлы и группы файлов</p>

<p class="Regularbeforepicture">Для добавления файла нужно выбрать шаблон и пункт
<span class="Interface">Действия – Добавить</span>. На экран выводится
диалог выбора файла.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00651.gif?_=1496848987" WIDTH="420" ALT HEIGHT="213"></p>

<p class="MsoCaption">Рис. 645. Добавление файла в шаблон</p>

<p class="MsoNormalCxSpFirst">В диалоге указывается местонахождение добавляемого
элемента шаблона.</p>

<p class="MsoNormalCxSpMiddle">Файл может располагаться в текущей конфигурации, текущей
информационной базе, в отдельном файле, а также представлять набор файлов
указанного каталога, отбираемый по маске файлов (допускается включение файлов
подкаталогов).</p>

<p class="MsoNormalCxSpLast">Для настройки свойств файла нужно выбрать файл и указать
его свойства:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">Наименование</span> –
наименование файла.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Данные</span> – источник
данных для файла (файл, текущая конфигурация или текущая информационная база).</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Базовый каталог</span> –
базовый каталог для ссылки на файл.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Файл/каталог</span> –
относительный (относительно базового каталога) или абсолютный путь к файлу.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Поставить на поддержку</span> –
для файла конфигурации или выгрузки данных – поставить файл на поддержку.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Включать в манифест</span> –
для файла конфигурации или выгрузки данных включать файл в манифест.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Наименование в шаблоне</span> –
наименование в каталоге шаблонов. Наименование является локализуемым в соответствии
с языками комплекта установки.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Размещение</span> – каталог
для информационной базы, предлагаемый по умолчанию.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">Наименование для
обновлений</span> – использовать наименование файла в каталоге шаблонов
для наименования обновлений.</p>

<p class="MsoNormalCxSpFirst">Для добавления группы файлов нужно выбрать шаблон и
пункт <span class="Interface">Действия – Новая группа</span>. В палитре
свойств ввести наименование группы.</p>

<p class="MsoNormalCxSpMiddle">Если в списке указать группу и выбрать пункт <span class="Interface">Действия – Добавить</span>, то в данную группу добавляется
файл. Число файлов в группе неограниченно.</p>

<p class="MsoNormalCxSpLast">Допускается создание вложенных групп файлов.</p>

<p class="Lang">Варианты поставки</p>

<p class="MsoNormal">Варианты поставки представляют собой различные комбинации
файлов поставки. Такие комбинации могут использоваться для различной
комплектации поставки (например, при полной поставке или же при поставке только
обновлений):</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">Наименование</span> –
наименование варианта поставки.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Поставляемые файлы</span> –
набор поставляемых файлов. По умолчанию создается полный вариант, в который
включены все файлы. Если указано несколько вариантов построения, то состав
файлов можно сформировать, нажав для него в палитре свойств ссылку <span class="Interface">Редактировать</span>. Нужно установить отметки для тех файлов,
которые будут включены в выбранный вариант построения.</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
<span class="Interface">Файл описания поставки</span> –
описание, показываемое пользователю после проведения установки продукта.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">Базовый каталог</span> и <span class="Interface">Каталог</span> – используются для указания на место
создания комплекта поставки или набора файлов поставки. Если эти каталоги
указаны, то при запросе места создания они будут автоматически подставлены в
диалог запроса.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00652.gif?_=1496848987" WIDTH="397" ALT HEIGHT="314"></p>

<p class="MsoCaption">Рис. 646. Вариант построения</p>

<p class="Lang">Базовые каталоги</p>

<p class="MsoNormalCxSpFirst">Базовые каталоги используются для переносимого
между различными компьютерами указания файлов поставки.</p>

<p class="MsoNormalCxSpLast">В качестве базового каталога может быть указано значение
переменной среды или имя каталога. После этого имя файла поставки может быть
указано как комбинация базового каталога и относительного пути от этого каталога:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">Наименование</span> –
наименование базового каталога.</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">База</span> – может
принимать два значения:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
<span class="Interface">Переменная среды</span>,</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
<span class="Interface">Каталог</span>.</p>

<p class="MsoListBullet">&#9679; 
<span class="Interface">Переменная среды</span>/<span class="Interface">Каталог</span> – содержит имя переменной среды (переменной
окружения) или абсолютный адрес каталога в зависимости от значения свойства <span class="Interface">База</span>.</p>

<p class="Lang">Языки</p>

<p class="MsoNormalCxSpFirst">Языки предназначены для представления локализуемых
наименований элементов шаблонов.</p>

<p class="MsoNormalCxSpLast">Для корректного отображения наименований следует
создавать языки в соответствии с наименованиями каталогов платформы системы «1С:Предприятие»,
содержащими соответствующие локализованные интерфейсы. Один из языков является
языком по умолчанию (локализованная по умолчанию строка наименования используется
при отсутствии строки, соответствующей текущему языку платформы):</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
<span class="Interface">Наименование</span> –
наименование языка;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
<span class="Interface">Каталог ресурсов</span> –
имя каталога языковых ресурсов, соответствующее этому языку.</p>

<a id="TI000001145" class="bookmark" name="issogl3_31.2.3.2_создание_комплекта"><h4>31.2.3.2. Создание комплекта</h4></a>

<p class="MsoNormalCxSpFirst">Для создания комплекта поставки нужно выбрать пункт
<span class="Interface">Действия – Создать комплект</span>. При этом будет
создан комплект поставки, соответствующий указанному варианту поставки.</p>

<p class="MsoNormalCxSpMiddle">Чтобы создать комплект файлов поставки, нужно
выбрать пункт <span class="Interface">Действия – Создать комплект файлов
поставки</span>. При этом будут созданы файлы поставки (не сжатые в пакет установки)
без программы установки, соответствующие указанному варианту поставки.</p>

<p class="MsoNormalCxSpMiddle">Если при этом описание комплекта поставки не было
сохранено, конфигуратор предлагает его сохранить.</p>

<p class="MsoNormalCxSpMiddle">Если количество вариантов больше одного, то на
экран выводится диалог выбора варианта построения. В диалоге нужно выбрать
требуемый вариант.</p>

<p class="MsoNormalCxSpMiddle">Создаваемые файлы комплекта обновления следует размещать
в каталоге ресурсов, указанном в свойстве <span class="Interface">Адрес каталога
обновлений</span> (см. <a href="#_ref215406202">здесь</a>).</p>

<p class="MsoNormalCxSpLast">Помимо лицензирования с использованием аппаратного
ключа, ограничивающего общее количество рабочих мест и не контролирующего
используемые конфигурации, допускается использование электронных лицензий, которые
выдаются на конкретное рабочее место и контролируют использование на нем
определенных конфигураций, записанных в лицензии. Программные лицензии выдаются
Центром лицензирования фирмы «1С» и сохраняются на компьютере пользователя.</p>

<p class="Note"><span class="Note">Примечание.</span> Для создания комплекта
поставки конфигурации, распространяемой по схеме лицензирования рабочего места
пользователя, реализован параметр <span class="Interface">-DigiSign</span> ключей
командной строки /<span class="Interface">CreateDistributionFiles</span>
и <span class="Interface">/CreateDistributive</span>, позволяющий задать файл с
параметрами лицензирования. Возможность создания и распространения конфигураций,
поддерживающих схему лицензирования рабочего места пользователя, может быть
получена партнером на основании отдельного договора с фирмой «1С».</p>

<a name="_ref32926804"></a><a id="TI000001146" class="bookmark" name="issogl1_31.3_поддержка_конфигурации"><h2>31.3. Поддержка конфигурации</h2></a>

<a id="TI000001511" class="bookmark" name="issogl2_31.3.1_общая_информация"><h3>31.3.1. Общая информация</h3></a>

<p class="MsoNormalCxSpFirst">Новую версию конфигурации можно получить в виде поставки
(файл поставки конфигурации новой версии) и/или в виде обновления.</p>

<p class="MsoNormalCxSpMiddle">Конфигурации пользователей, которые могут быть
обновлены с учетом полученных файлов поставки, должны находиться на поддержке.</p>

<p class="MsoNormalCxSpMiddle">Режим поддержки объектов можно менять, предварительно
отказавшись от полной поддержки. Возможность устанавливать правила пользователя
(изменение объектов) зависит от правил, заданных поставщиком, и текущих
блокировок пользовательской конфигурации.</p>

<p class="MsoNormalCxSpLast">Для конфигураций, находящихся на поддержке, предусмотрен
режим сравнения с поставкой, сравнения новой поставки с прежней, а также
сравнение текущего состояния конфигурации с первоначальным.</p>

<p class="Regularbeforepicture">Если конфигурация находится на поддержке, то в
окне <span class="Interface">Конфигурация</span> объекты помечаются специальными
пиктограммами, располагающимися справа от объекта, вдоль границы окна.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00653.gif?_=1496848987" WIDTH="528" ALT HEIGHT="357"></p>

<p class="MsoCaption"><a name="_ref215467445">Рис. </a>647. Пиктограммы режимов поддержки</p>

<p class="MsoNormal">Описание пиктограмм, обозначающих различные режимы поддержки,
приведено на <a href="#_ref215467445">рис.647</a>.</p>

<a id="TI000001147" class="bookmark" name="issogl2_31.3.2_постановка_конфигурации_на_поддержку"><h3>31.3.2. Постановка конфигурации на поддержку</h3></a>

<p class="MsoNormalCxSpFirst">После установки типовой конфигурации она автоматически
устанавливается на поддержку.</p>

<p class="MsoNormalCxSpMiddle">Если конфигурация не находится на поддержке, то
для постановки ее на поддержку нужно выбрать пункт <span class="Interface">Конфигурация –
Сравнить, объединить с конфигурацией из файла</span>, а в качестве
сравниваемого файла выбрать файл поставки.</p>

<p class="MsoNormalCxSpMiddle">В этом случае конфигуратор предлагает произвести постановку
конфигурации на поддержку. На экран выводится диалог, в котором помещен текст <span class="Interface">Обнаружена возможность объединения с постановкой на поддержку</span>
и сообщаются основные параметры конфигурации поставщика. Производится запрос на
постановку.</p>

<p class="MsoNormalCxSpMiddle">При нажатии кнопки <span class="Interface">Да</span>
будет открыто окно сравнения и объединения конфигураций.</p>

<p class="MsoNormalCxSpMiddle">После указания условий и режимов объединения нужно
нажать кнопку <span class="Interface">Выполнить</span>. Будет произведен пообъектный
анализ конфигураций на соответствие правил поставщика правилам объединения.</p>

<p class="MsoNormalCxSpMiddle">Если обнаруживаются объекты, по которым правила поставщика
вступают в противоречие с правилами объединения, то на экран выводится окно со
списком этих объектов. В окне сравнения следует выполнить нужные настройки,
чтобы снять противоречия, и повторить попытку объединения. Если противоречий в
правилах нет, то производится объединение конфигураций с постановкой текущей конфигурации
на поддержку.</p>

<p class="MsoNormalCxSpMiddle">При включении возможности изменений конфигурации
поставщика, при постановке на поддержку и при обновлении конфигурации
поставщика с включенной возможностью изменений имеется возможность детально
настроить правила поддержки по умолчанию для объектов с разными правилами
поставки.</p>

<p class="MsoNormalCxSpLast">Если текущая конфигурация подключена к хранилищу конфигураций,
то при постановке конфигурации на поддержку требуется, чтобы все объекты
конфигурации, которые должны быть полностью взяты из конфигурации поставщика, а
также корневой объект конфигурации должны быть захвачены в хранилище.</p>

<a id="TI000001148" class="bookmark" name="issogl2_31.3.3_настройка_поддержки"><h3>31.3.3. Настройка поддержки</h3></a>

<p class="MsoNormal">Настройка поддержки заключается в установке правил пользователя
для каждого объекта конфигурации.</p>

<p class="Regularbeforepicture">Для настройки поддержки нужно выбрать пункт <span class="Interface">Конфигурация – Поддержка – Настройка поддержки</span>.
На экран выводится окно настройки правил поддержки.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00654.gif?_=1496848987" WIDTH="640" ALT HEIGHT="471"></p>

<p class="MsoCaption">Рис. 648. Настройка поддержки</p>

<p class="MsoNormalCxSpFirst">В верхней строке окна настройки конфигуратор сообщает,
в каком состоянии поддержки находится данная конфигурация.</p>

<p class="MsoNormalCxSpMiddle">Ниже указывается имя конфигурации, поставщик и текущая
версия конфигурации.</p>

<p class="MsoNormalCxSpMiddle">В разделе <span class="Interface">Настройка правил
поддержки объектов</span> размещено дерево объектов и показываются правила поддержки
поставщика и правила пользователя по каждому объекту.</p>

<p class="MsoNormalCxSpLast">Правила поддержки поставщика не могут быть изменены.
Можно менять только правила пользователя (при условии, что конфигурация снята с
полной поддержки). В окне настройки допускается использование множественного
выбора для настройки одинаковых правил поддержки выбранным объектам. В этом
случае для изменения правил поддержки нужно использовать контекстное меню в
колонке правил поддержки.</p>

<p class="Regularbeforepicture">Комплект поставки может содержать данные на
нескольких языках. С помощью выбора языков поддержки можно указать те из них,
которые используются данной конфигурацией. Для этого следует нажать кнопку <span class="Interface">Языки поддержки</span> и в открывшемся окне указать эти языки.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00655.gif?_=1496848987" WIDTH="374" ALT HEIGHT="204"></p>

<p class="MsoCaption">Рис. 649. Выбор языков поддержки
конфигурации</p>

<a id="TI000001149" class="bookmark" name="issogl3_31.3.3.1_полная_автоматическая_поддержка"><h4>31.3.3.1. Полная (автоматическая) поддержка</h4></a>

<p class="MsoNormalCxSpFirst">Если в строке состояния окна настройки поддержки указано
<span class="Interface">Конфигурация находится на поддержке</span>, то это означает,
что все объекты данной конфигурации находятся на поддержке и не могут быть
изменены (отредактированы). В этом случае конфигурацию можно обновить автоматически.</p>

<p class="MsoNormalCxSpLast">Для выполнения автоматического обновления текущей версии
конфигурации:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
нужно выбрать пункт <span class="Interface">Конфигурация –
Поддержка – Обновить конфигурацию</span>;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
выбрать файл поддержки.</p>

<p class="MsoNormalCxSpFirst">Обновление производится без вывода окна <span class="Interface">Сравнение и объединение</span>.</p>

<p class="MsoNormalCxSpLast">В данном состоянии изменение правил пользователя для
любого объекта конфигурации недоступно независимо от правил поддержки
поставщика.</p>

<a id="TI000001150" class="bookmark" name="issogl3_31.3.3.2_поддержка_с_возможностью_обновления"><h4>31.3.3.2. Поддержка с возможностью обновления</h4></a>

<p class="MsoNormalCxSpFirst">Часто требуется изменить типовую конфигурацию, чтобы
учесть требования конкретного пользователя. В таких случаях необходимо
отказаться полностью (объект поставщика снят с поддержки) или частично (объект
поставщика редактируется с возможностью поддержки) от поддержки некоторых
объектов.</p>

<p class="MsoNormalCxSpLast">Для получения доступа к установке правил поддержки
пользователя в окне настройки поддержки нужно нажать кнопку <span class="Interface">Включить возможность изменения</span>.</p>

<p class="Regularbeforepicture">После нажатия кнопки на экран выводится предупреждение:
<span class="Interface">Изменение режима приведет к невозможности выполнять обновление
конфигурации полностью автоматически. Продолжить?</span> Если выбрать <span class="Interface">Да</span>, то будет предложено выбрать правила поддержки для
объектов с разными правилами поставки.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00656.gif?_=1496848987" WIDTH="418" ALT HEIGHT="230"></p>

<p class="MsoCaption">Рис. 650.
Настройка правил поддержки</p>

<p class="MsoNormalCxSpFirst">После указания правил поддержки и нажатия кнопки <span class="Interface">ОК</span> произойдет изменение статуса конфигурации, и она
будет находиться на поддержке с возможностью изменения. В результате такой
настройки все объекты конфигурации окажутся заблокированными от случайных
изменений, независимо от правил поставки, установленных поставщиком. Теперь для
изменений объекта необходимо явно включать возможность изменения объекта или
его подчиненных объектов (см. <a href="#_ref286859083">здесь</a>).</p>

<p class="MsoNormalCxSpMiddle">Если не требуется менять режим поддержки (действия
были выполнены по ошибке), нужно закрыть конфигурацию без сохранения.</p>

<p class="MsoNormalCxSpLast">После отказа от полной поддержки заново установить
поддержку для всей конфигурации возможно только при последовательном выполнении
следующих действий:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
снять конфигурацию с поддержки (в окне настройки
нужно указать корневой объект конфигурации и нажать кнопку<span class="Interface"> Снять с поддержки</span>);</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
выбрать пункт <span class="Interface">Конфигурация –
Загрузить конфигурацию из файла</span>;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
выбрать файл поставки.</p>

<a name="_ref286859083"></a><a id="TI000001151" class="bookmark" name="issogl4_31.3.3.2.1_изменение_правил_поддержки_объектов"><h5>31.3.3.2.1. Изменение правил поддержки объектов</h5></a>

<p class="MsoNormal">Чтобы изменить правила поддержки, в дереве объектов окна
настройки поддержки следует выбрать нужный объект и в контекстном меню выбрать <span class="Interface">Установить правило поддержки</span>. В диалоге выбрать нужное
правило пользователя из трех возможных:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
объект поставщика не редактируется;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
объект поставщика редактируется с сохранением поддержки;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
объект поставщика снят с поддержки.</p>

<p class="MsoNormalCxSpFirst">Доступность правил определяется установленным правилом
поддержки поставщика.</p>

<p class="MsoNormalCxSpMiddle">Если установлено правило поддержки поставщика <span class="Interface">Изменения разрешены</span>, то доступна установка любого правила
поставщика.</p>

<p class="MsoNormalCxSpMiddle">Если установлено правило поддержки поставщика <span class="Interface">Изменения не рекомендуются</span>, то также доступна установка
любого правила поставщика, но при изменении данного правила будет выдано
предупреждающее сообщение.</p>

<p class="MsoNormalCxSpLast">Если установлено правило поддержки поставщика <span class="Interface">Изменения запрещены</span>, то установка правил поставщика
невозможна.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> После установки правила
пользователя <span class="Interface">Объект поставщика снят с поддержки</span>
нельзя «вернуть» правило <span class="Interface">Объект поставщика не
редактируется</span>.</p>

<p class="MsoNormalCxSpFirst">Если выбранный объект содержит подчиненные объекты,
то для изменения правил поддержки одновременно и для этих объектов нужно
установить флажок <span class="Interface">Установить для подчиненных объектов</span>
(по умолчанию установлен).</p>

<p class="MsoNormalCxSpLast"><span class="Bold">Полный отказ от поддержки</span>.
Для отказа от поддержки всех объектов конфигурации следует выбрать пункт <span class="Interface">Действия – Снять с поддержки</span>. На экран выводится
предупреждение: <span class="Interface">Снятие с поддержки приведет к
невозможности получать обновления от поставщика. Продолжить?</span> Для снятия
с поддержки необходимо выбрать кнопку <span class="Interface">Да</span>. Конфигурация
полностью снимается с поддержки. Если данные действия выполнены по ошибке, нужно
закрыть конфигурацию без сохранения.</p>

<p class="Note"><span class="Note">ВНИМАНИЕ!</span> Отказ от поддержки не
означает, что данную конфигурацию невозможно обновлять методом сравнения и
объединения.</p>

<a id="TI000001152" class="bookmark" name="issogl4_31.3.3.2.2_сравнение_и_объединение_с_конфигурацией_поставщика"><h5>31.3.3.2.2. Сравнение и объединение с конфигурацией поставщика</h5></a>

<p class="Regularbeforepicture">Из окна настройки поддержки можно выполнить сравнение
и объединение с первоначальным (предыдущим) файлом поставки. Для этого нужно
нажать кнопку <span class="Interface">Сравнить, объединить</span>. На экран выводится
окно сравнения и объединения.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00657.gif?_=1496848987" WIDTH="686" ALT HEIGHT="463"></p>

<p class="MsoCaption">Рис. 651. Сравнение и объединение с
конфигурацией поставщика</p>

<p class="MsoNormalCxSpFirst">Основные приемы сравнения и объединения см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 29. механизм сравнения и объединения конфигураций.htm?_=1496848987#_ref463619619">здесь</a>.</p>

<p class="MsoNormalCxSpMiddle">В отличие от «обычного» режима сравнения и объединения
конфигураций, в окно сравнения добавлена строка показа правил поставщика и
пользователя, а также кнопка <span class="Interface">Изменить</span> для
изменения правила пользователя. В этом случае открывается диалог с возможностью
указания правила поддержки и возможностью иерархического указания этого правила
(флажок <span class="Interface">Установить для подчиненных объектов</span>).</p>

<p class="MsoNormalCxSpLast">При сравнении с файлом поставки текущая конфигурация
всегда является потомком конфигурации-поставщика, поэтому кнопка выбора режима
настройки конфигураций отсутствует.</p>

<a name="_ref215406202"></a><a name="_ref393715098"></a><a name="_ref393715097"></a><a id="TI000001153" class="bookmark" name="issogl2_31.3.4_обновление_конфигурации"><h3>31.3.4. Обновление конфигурации</h3></a>

<p class="MsoNormal">Для выполнения обновления конфигурации, находящейся на
поддержке, нужно выбрать пункт <span class="Interface">Конфигурация – Поддержка –
Обновить конфигурацию</span>.</p>

<p class="Regularbeforepicture">На экран выводится помощник обновления.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00658.gif?_=1496848987" WIDTH="389" ALT HEIGHT="293"></p>

<p class="MsoCaption">Рис. 652. Помощник обновления</p>

<p class="MsoNormal">На первом шаге пользователь для обновления конфигурации
может выбрать отдельный файл обновления или начать поиск по возможным местам
расположения файлов обновлений.</p>

<p class="Regularbeforepicture">Если выбран отдельный файл обновления, то на следующем
шаге этот файл выбирается.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00659.gif?_=1496848987" WIDTH="389" ALT HEIGHT="293"></p>

<p class="MsoCaption">Рис. 653. Выбор файла обновления</p>

<p class="MsoNormal">При нажатии кнопки <span class="Interface">Готово</span>
выводится диалог, в котором указываются основные параметры текущей конфигурации
и конфигурации поставщика (см. ниже).</p>

<p class="Regularbeforepicture">Если выбран поиск отдельных обновлений, то после
нажатия кнопки <span class="Interface">Далее &gt;</span> помощник обновления
переходит к выбору возможных мест расположения обновлений.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00660.gif?_=1496848987" WIDTH="389" ALT HEIGHT="293"></p>

<p class="MsoCaption">Рис. 654. Места расположения
обновлений</p>

<p class="MsoNormal">В качестве возможных мест расположения приводятся:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
текущий каталог шаблонов;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
съемные диски (при этом для дисков CR-ROM добавляется
каталог <span class="Interface">v8updates</span>);</p>

<p class="MsoListBulletCxSpLast">&#9679; 
адрес, указанный в конфигурации как адрес
каталога обновления.</p>

<p class="MsoNormal">По указанным каталогам производится поиск обновлений
следующим образом:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
для локальных каталогов производится поиск файлов
обновлений и файлов списка шаблонов в указанных каталогах и в подкаталогах.
Найденные файлы списка шаблонов должны описывать каталоги шаблонов и находиться
в корне этих каталогов;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
для удаленных каталогов производится поиск файлов
списка шаблонов только в указанных каталогах.</p>

<p class="Regularbeforepicture">Если в свойстве конфигурации <span class="Interface">Адрес каталога обновлений</span> указан адрес, с которого можно
получить обновление конфигурации, то при нажатии кнопки <span class="Interface">Далее &gt;</span>
выполняется аутентификация пользователя.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00661.gif?_=1496848987" WIDTH="351" ALT HEIGHT="213"></p>

<p class="MsoCaption">Рис. 655. Аутентификация доступа к интернет-ресурсу</p>

<p class="MsoNormal">Необходимо ввести имя и пароль пользователя для получения
доступа к серверу, на котором размещен комплект обновления, а также имя и
пароль для доступа через прокси-сервер.</p>

<p class="Regularbeforepicture">На третьем шаге показываются обновления, для
которых найдены соответствующие им шаблоны. В списке этих обновлений жирным
шрифтом выделяется обновление, которое наиболее вероятно подходит для
обновления конфигурации.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00662.gif?_=1496848987" WIDTH="389" ALT HEIGHT="293"></p>

<p class="MsoCaption">Рис. 656. Выбор обновления</p>

<p class="MsoNormalCxSpFirst">Если выбирается обновление, которое находится в удаленном
каталоге, то это обновление копируется в текущий каталог шаблонов, если он
является локальным.</p>

<p class="MsoNormalCxSpLast">Нажатие кнопки <span class="Interface">Готово</span>
завершает поиск файла обновления.</p>

<p class="Regularbeforepicture">На экран выводится диалог, в котором указываются
основные параметры текущей конфигурации и конфигурации поставщика.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00663.gif?_=1496848987" WIDTH="344" ALT HEIGHT="334"></p>

<p class="MsoCaption">Рис. 657. Параметры обновления</p>

<p class="MsoNormalCxSpFirst">Следует обратить внимание, что в нижней части
диалога приводится предупреждение о том, что необходимо отчетливо понимать, что
источник, из которого получен файл обновления конфигурации, является надежным и
действительно содержит обновление используемой конфигурации, без нежелательных
модификаций (подробнее см. <A href="/db/content/v8310doc/src/руководство разработчика/приложение 7. особенности поведения системы в различных режимах.htm?_=1496848987#_ref465269736">здесь</a>).</p>

<p class="MsoNormalCxSpLast">Для продолжения нужно нажать кнопку <span class="Interface">ОК</span>.</p>

<p class="Regularbeforepicture">Конфигуратор производит сравнение конфигураций и
выводит на экран окно <span class="Interface">Обновление конфигурации</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00664.gif?_=1496848987" WIDTH="735" ALT HEIGHT="602"></p>

<p class="MsoCaption"><a name="_ref393454083">Рис. </a>658. Обновление конфигурации</p>

<p class="MsoNormalCxSpFirst">Основные приемы сравнения и объединения см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 29. механизм сравнения и объединения конфигураций.htm?_=1496848987#_ref471827362">здесь</a>.</p>

<p class="MsoNormalCxSpMiddle">Если в настройках конфигуратора выбрано
использование внешней программы (см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 33. сервисные возможности.htm?_=1496848987#_ref391647782">здесь</a>), то для программных модулей в список режимов
объединения добавляется пункт <span class="Interface">Объединить с помощью
внешней программы</span>. При выборе этого режима для объединения модулей
используются возможности внешней программы. Если у выбранной внешней программы
не заполнено свойство <span class="Interface">Автоматическое трехстороннее
объединение</span>, то для выполнения объединения будет использоваться
интерактивное трехстороннее объединение. Интерактивное трехсторонее объединение
будет также использоваться в том случае, если внешняя программа не смогла
автоматически разрешить конфликты при выполнении объединения.</p>

<p class="MsoNormalCxSpLast">Некоторые действия, которые
можно выполнить в окне обновления конфигурации, зависят от настроек
конфигуратора (см. <A href="/db/content/v8310doc/src/руководство разработчика/глава 33. сервисные возможности.htm?_=1496848987#_ref391647782">здесь</a>):</p>

<p class="MsoListBullet">&#9679; 
Команда контекстного меню <span class="Interface">Показать
различия в модулях</span>:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
Настройка конфигуратора: <span class="Interface">Режимы &quot;Взять из …&quot;, &quot;Объединить с приоритетом
…&quot;</span>;</p>

<p class="MsoListBullet2CxSpMiddle">&#9679; 
Настройка внешней программы: <span class="Interface">Объединение двух файлов</span>;</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
Результаты работы: игнорируется.</p>

<p class="MsoListBullet">&#9679; 
Команда контекстного меню <span class="Interface">Показать различия в
модулях без учета структуры</span>:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
Настройка конфигуратора: <span class="Interface">Показать различия без
учета структуры</span>;</p>

<p class="MsoListBullet2CxSpMiddle">&#9679; 
Настройка внешней программы: <span class="Interface">Сравнение двух файлов</span>;</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
Результаты работы: игнорируется.</p>

<p class="MsoListBullet">&#9679; 
Действия, выполняемые при указании режима
объединения <span class="Interface">Взять из …</span> или <span class="Interface">Объединить с приоритетом …</span>:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
Настройка конфигуратора: <span class="Interface">Режимы &quot;Взять из
…&quot;, &quot;Объединить с приоритетом …&quot;</span>;</p>

<p class="MsoListBullet2CxSpMiddle">&#9679; 
Настройка внешней программы: <span class="Interface">Трехстороннее
объединение</span>;</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
Результаты работы: используется
в качестве результата объединения.</p>

<p class="MsoListBullet">&#9679; 
Действия, выполняемые при указании режима
объединения <span class="Interface">Объединить с помощью внешней программы</span>:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
Настройка конфигуратора: <span class="Interface">Режим &quot;Объединить
с помощью внешней программы&quot;</span>;</p>

<p class="MsoListBullet2CxSpMiddle">&#9679; 
Настройка внешней программы: <span class="Interface">Трехсторонее
объединение</span>;</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
Результаты работы: используется в качестве
результата объединения.</p>

<p class="MsoListBullet">&#9679; 
Действия, выполняемые после нажатия кнопки <span class="Interface">Выполнить</span>:</p>

<p class="MsoListBullet2CxSpFirst">&#9679; 
Настройка конфигуратора: группа <span class="Interface">Обновление
конфигурации на поддержке</span>;</p>

<p class="MsoListBullet2CxSpMiddle">&#9679; 
Настройка внешней программы: <span class="Interface">Автоматическое
трехсторонее объединение</span> или <span class="Interface">Трехсторонее объединение</span>;</p>

<p class="MsoListBullet2CxSpLast">&#9679; 
Результаты работы: используется в качестве
результата объединения.</p>

<p class="MsoNormalCxSpFirst">При вызове команды будет использоваться тот
инструмент, который указан в соответствующей настройке конфигуратора, а если в
качестве инструмента выбрана какая-либо внешняя программа – для выполнения
действия будет использоваться командная строка, заданная в соответствующей
настройке внешней программы.</p>

<p class="MsoNormalCxSpMiddle">При объединении конфигураций вначале выполняется
объединение модулей. Для режима <span class="Interface">Объединить с помощью
внешней программы</span>, запуск внешней программы, поддерживающей
автоматическое трехсторонее объединение, выполняется только при обнаружении конфликтов.
Если разработчик не сохранил результат объединения, то текст модуля не
меняется, и объединение конфигураций продолжается. Если среди всех модулей был
хотя бы один не разрешенный конфликт, то после неудачной попытки объединения
модулей объединение конфигураций останавливается, и в окно сообщений выдается
список модулей, которые не были объединены. Окно объединения конфигураций не
закрывается, в дереве объектов обновляется колонка с состоянием настройки
объединения. Разработчик должен вручную объединить необъединенные модули и
продолжить объединение конфигураций нажатием кнопки <span class="Interface">Выполнить</span>.</p>

<p class="MsoNormalCxSpLast">В том случае, если в объединяемых конфигурациях
используются объекты типа <span class="Term">ОпределяемыйТип</span>, то для свойства этого объекта
<span class="Term">Тип</span>,
а также для свойства <span class="Term">Тип</span>
объекта <span class="Term">ПланВидовХарактеристик</span>,
используются следующие правила объединения:</p>

<p class="MsoListBullet">&#9679; 
Режим объединения <span class="Interface">Взять из
файла</span>:</p>

<p class="MsoListBullet2">&#9679; 
Описание типа в соответствующем реквизите
замещается значением из новой конфигурации поставщика.</p>

<p class="MsoListBullet">&#9679; 
Режим объединения <span class="Interface">Объединить
с приоритетом основной конфигурации</span>:</p>

<p class="MsoListBullet2">&#9679; 
Объединение типов:</p>

<p class="MsoListBullet3CxSpFirst">&#9679; 
Если тип присутствует в основной конфигурации, старой
конфигурации поставщика и новой конфигурации поставщика – тип попадает в результат объединения;</p>

<p class="MsoListBullet3CxSpMiddle">&#9679; 
Если тип присутствует в основной конфигурации и старой
конфигурации поставщика, но отсутствует в новой конфигурации поставщика – тип не попадает в результат объединения;</p>

<p class="MsoListBullet3CxSpMiddle">&#9679; 
Если тип присутствует в старой и новой
конфигурациях поставщика, но отсутствует в основной конфигурации – тип не
попадает в результат объединения;</p>

<p class="MsoListBullet3CxSpLast">&#9679; 
Если тип отсутствует в старой конфигурации
поставщика, но присутствует в основной конфигурации или новой конфигурации
поставщика – тип попадает в результат объединения.</p>

<p class="MsoListBullet2">&#9679; 
Объединение квалификаторов типов:</p>

<p class="MsoListBullet3CxSpFirst">&#9679; 
При конфликте квалификаторов их значения берутся
из основной конфигурации. Конфликтом квалификаторов считается ситуация, когда
квалификаторы были изменены и в новой конфигурации поставщика и в основной
конфигурации.</p>

<p class="MsoListBullet3CxSpMiddle">&#9679; 
Если есть отличия между основной конфигурацией и
старой конфигурацией поставщика, но нет отличий между новой конфигурацией
поставщика и старой конфигурацией поставщика – значения квалификаторов в
результате объединения не изменяются.</p>

<p class="MsoListBullet3CxSpLast">&#9679; 
Если есть отличия между новой конфигурацией
поставщика и старой конфигурацией поставщика, но нет отличий между основной конфигурацией
и старой конфигурацией поставщика – в результате объединения значения
квалификаторов берутся из новой конфигурации поставщика.</p>

<p class="MsoListBullet">&#9679; 
Режим объединения <span class="Interface">Объединить
с приоритетом новой конфигурации поставщика</span>:</p>

<p class="MsoListBullet2">&#9679; 
Объединение типов:</p>

<p class="MsoListBullet3CxSpFirst">&#9679; 
Если тип присутствует в основной конфигурации,
старой конфигурации поставщика и новой конфигурации поставщика – тип
попадает в результат объединения;</p>

<p class="MsoListBullet3CxSpMiddle">&#9679; 
Если тип присутствует в основной конфигурации и
старой конфигурации поставщика, но отсутствует в новой конфигурации поставщика –
тип не попадает в результат объединения.</p>

<p class="MsoListBullet3CxSpMiddle">&#9679; 
Если тип присутствует в старой и новой
конфигурациях поставщика, но отсутствует в основной конфигурации – тип не
попадает в результат объединения.</p>

<p class="MsoListBullet3CxSpLast">&#9679; 
Если тип отсутствует в старой конфигурации
поставщика, но присутствует в основной конфигурации или новой конфигурации
поставщика – тип попадает в результат объединения.</p>

<p class="MsoListBullet2">&#9679; 
Объединение квалификаторов типов:</p>

<p class="MsoListBullet3CxSpFirst">&#9679; 
при конфликте квалификаторов их значения берутся
из новой конфигурации поставщика. Конфликтом квалификаторов считается ситуация,
когда квалификаторы были изменены и в новой конфигурации поставщика и в
основной конфигурации.</p>

<p class="MsoListBullet3CxSpMiddle">&#9679; 
Если есть отличия между основной конфигурацией и
старой конфигурацией поставщика, но нет отличий между новой и старой
конфигурациями поставщика – значения квалификаторов в результате
объединения не изменяются.</p>

<p class="MsoListBullet3CxSpLast">&#9679; 
Если есть отличия между новой и старой конфигурациями
поставщика, но нет отличий между основной конфигурацией и старой конфигурацией
поставщика – значения квалификаторов берутся из новой конфигурации
поставщика.</p>

<p class="MsoNormalCxSpFirst">По сравнению с обычным режимом сравнения и объединения
в табличное поле добавлены две колонки, показывающие статусы по истории
объектов. Расшифровка пиктограмм статусов приведена в нижней части окна. С
помощью пиктограмм легко понять, какого рода и в какой конфигурации были
выполнены изменения.</p>

<p class="MsoNormalCxSpLast">Так, в примере на <a href="#_ref393454083">рис.658</a> видно, что:</p>

<p class="MsoListBulletCxSpFirst">&#9679; 
У справочника <span class="Term">Банки</span> (из основной
конфигурации) изменено имя;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
В новой конфигурации поставщика добавлен
реквизит <span class="Term">ДеятельностьПрекращена</span>;</p>

<p class="MsoListBulletCxSpMiddle">&#9679; 
В основной конфигурации для этого справочника
реализовано несколько форм (<span class="Term">ФормаГруппы</span>, <span class="Term">ФормаБанкНеНайден</span>
и т. д.), которые отсутствуют в новой конфигурации поставщика;</p>

<p class="MsoListBulletCxSpLast">&#9679; 
В новой конфигурации поставщика реализована
форма <span class="Term">ЗагрузкаКлассификатора</span>,
которая отсутствует в основной конфигурации.</p>

<p class="MsoNormal">Для того чтобы посмотреть правила поставщика, нужно указать
объект в табличном поле. Правило будет показано в реквизите, расположенном
сразу под табличным полем.</p>

<p class="Regularbeforepicture">Для анализа произведенных изменений в
конфигурациях удобно использовать специальный фильтр, настройка которого вызывается
по кнопке <span class="Interface">Фильтр</span>. На экран выводится окно
настройки:</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00665.gif?_=1496848987" WIDTH="646" ALT HEIGHT="488"></p>

<p class="MsoCaption">Рис. 659. Настройка фильтров просмотра</p>

<p class="MsoNormalCxSpFirst">Фильтр позволяет изучить изменения в конфигурациях
путем выбора объектов сравнения и установки режимов показа отличий.</p>

<p class="MsoNormalCxSpMiddle">В качестве объектов сравнения выступает основная
(текущая) конфигурация, новая и старая конфигурации поставщика. Поэтому окно
настройки фильтра состоит из трех разделов, схожих по составу реквизитов.
Каждый раздел предназначен для настройки режима сравнения любой пары конфигураций.</p>

<p class="MsoNormalCxSpMiddle">С помощью настроек фильтра можно производить установки
режимов показа отличий сразу по всем конфигурациям.</p>

<p class="MsoNormalCxSpMiddle">Для удобства сравнения можно использовать шаблон
фильтров. В шаблоне сформированы наиболее распространенные варианты сочетаний
установок.</p>

<p class="MsoNormalCxSpLast">На основе данных об изменениях и правилах поддержки
пользователь принимает решение по объединению.</p>

<a id="TI000001154" class="bookmark" name="issogl2_31.3.5_файл_описания_каталога_шаблонов"><h3>31.3.5. Файл описания каталога шаблонов</h3></a>

<p class="MsoNormal">В тех случаях, когда шаблоны (в том числе и обновления)
конфигураций располагаются на HTTP(S) или FTP-ресурсах, необходимо указать
перечень конфигураций, расположенных на том или ином ресурсе. Для этого служит
файл описания каталога шаблонов <span class="Interface">v8cscdsc.lst</span>.
Данный файл находится в корневом каталоге шаблонов конфигураций, расположенных
на HTTP(S) или FTP-ресурсах.</p>

<p class="Regularbeforepicture">Этот файл используется для определения наличия
обновлений на том или ином ресурсе в процессе выполнения команды <span class="Interface">Конфигурация – Поддержка – Обновить конфигурацию</span>.</p>

<p class="Picture"><IMG src="/db/content/v8310doc/src/руководство разработчика/_img/img00666.gif?_=1496848987" WIDTH="476" ALT HEIGHT="368"></p>

<p class="MsoCaption">Рис. 660.
Создание файла списка шаблонов</p>

<p class="MsoNormalCxSpFirst">Для создания и редактирования файла описания
каталога шаблонов нужно выбрать пункт <span class="Interface">Конфигурация –
Поддержка – Шаблоны конфигураций и обновлений</span>.</p>

<p class="MsoNormalCxSpMiddle">В таблице <span class="Interface">Каталоги</span>
приведен перечень каталогов шаблонов, который получается из файла <span class="Interface">1CEStart.cfg</span> (подробное описание файла см. <a href="/db/v8310doc/bookmark/adm/TI000000370" target="_top">здесь</a>). В таблице <span class="Interface">Шаблоны</span> указывается перечень
шаблонов, который присутствует в выбранном каталоге шаблонов.</p>

<p class="MsoNormalCxSpMiddle">Редактирование каталога шаблонов конфигураций заключается
в удалении из него элементов шаблонов (или шаблонов вместе с элементами
целиком) и добавлении в него шаблонов конфигураций из других каталогов.</p>

<p class="MsoNormalCxSpMiddle">Для добавления шаблонов в каталог нужно выбрать команду<span class="Interface"> Добавить</span> командной панели таблицы <span class="Interface">Шаблоны</span>. На экран выводится помощник выбора каталога и
элементов шаблонов.</p>

<p class="MsoNormalCxSpMiddle">Необходимо выбрать каталог, из которого будет
производиться добавление, а затем выбрать элементы, отсутствующие в текущем
каталоге.</p>

<p class="MsoNormalCxSpMiddle">Для удаления шаблонов из каталога следует выбрать команду<span class="Interface"> Удалить</span> командной панели таблицы <span class="Interface">Шаблоны</span>.
На экран выводится диалог удаления. Далее выбрать нужный способ удаления
(только указанные элементы или шаблоны целиком, в которые входят эти элементы)
и нажать кнопку <span class="Interface">ОК</span>.</p>

<p class="MsoNormalCxSpMiddle">Создание файла описания каталога шаблонов выполняется
с помощью команды <span class="Interface">Создать файл списка шаблонов</span> командной
панели таблицы <span class="Interface">Шаблоны</span>. Данный пункт нужно
обязательно выполнить для сохранения внесенных изменений в описание каталога
шаблонов.</p>

<p class="MsoNormalCxSpMiddle">После этого следует переместить каталог шаблонов
(вместе с файлом описания каталога) на необходимый внешний ресурс.</p>

<p class="MsoNormalCxSpLast">Общий подход к работе с шаблонами, расположенными на
HTTP(S) или FTP-ресурсах, следующий:</p>

<p class="MsoListNumberCxSpFirst">1. 
На диске локального компьютера создается
каталог, в котором будут располагаться шаблоны, публикуемые на внешних
ресурсах.</p>

<p class="MsoListNumberCxSpMiddle">2. 
Выполняется установка всех шаблонов, которые
планируется разместить на внешних ресурсах, в этот каталог.</p>

<p class="MsoListNumberCxSpMiddle">3. 
В конфигураторе (в окне <span class="Interface">Каталоги
шаблонов конфигураций</span>, см. выше) в список <span class="Interface">Каталоги:</span>
добавляется созданный на шаге 1 каталог с шаблонами.</p>

<p class="MsoListNumberCxSpMiddle">4. 
В окне <span class="Interface">Каталоги шаблонов
конфигураций</span> выполняется создание файла описания каталога шаблонов (кнопка
<span class="Interface">Создать файл списка шаблонов</span>). Для этого нужно
предварительно встать курсором на каталог шаблонов, добавленный на шаге 3.</p>

<p class="MsoListNumberCxSpLast">5. 
Затем необходимо перенести каталог шаблонов
(вместе с файлом описания каталога шаблонов) из каталога локального компьютера
на HTTP(S) или FTP-ресурс.</p>

<p class="MsoNormalCxSpFirst"> </p>

<br>
	</body>
</html>